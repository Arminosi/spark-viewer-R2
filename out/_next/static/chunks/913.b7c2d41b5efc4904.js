(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{140:(e,t,s)=>{"use strict";s.d(t,{A:()=>$});var a=s(7876),n=s(5039),l=s.n(n),r=s(1043),i=s.n(r),o=s(4232),d=s(5436),c=s(6390),u=s(8341),x=s(1041),h=s(7460);function m(e){let{data:t}=e;return(0,a.jsx)("ul",{children:Object.entries(t).map((e,t)=>{let[s,n]=e;return"object"==typeof n?(0,a.jsx)(j,{name:s,value:n},t):(0,a.jsx)(p,{name:s,value:n},t)})})}let j=e=>{let{name:t,value:s}=e,[n,l]=(0,o.useState)(!1);return(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){l(!n)},children:[t," ",(0,a.jsx)(h.g,{icon:n?x.xbI:x.CHJ})]}),n&&(0,a.jsx)(m,{data:s})]})},p=e=>{let{name:t,value:s}=e;return(0,a.jsxs)("li",{children:[t,":"," ",(0,a.jsx)("span",{className:"type-"+typeof s,children:String(s)})]})};function f(e){let{data:t}=e;return(0,a.jsxs)("div",{className:"configurations",children:[(0,a.jsx)("p",{children:"Some extra metadata was provided by the platform:"}),(0,a.jsx)(m,{data:t})]})}function v(e){let{gameRules:t}=e,s=t.filter(e=>!w(e)),[n,l]=(0,o.useState)(!1);return(0,a.jsxs)("div",{className:"gamerules",children:[0===s.length&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{children:"All game rules are set to default values."})}),s.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Game Rule Overrides"}),(0,a.jsx)("span",{children:"(Values are only shown below when they differ from the default)"}),(0,a.jsx)("ul",{children:s.map(e=>(0,a.jsxs)("li",{children:[e.name," (default:"," ",(0,a.jsx)(g,{value:e.defaultValue}),")",(0,a.jsx)("ul",{children:Object.entries(e.worldValues).filter(t=>{let[s,a]=t;return a!==e.defaultValue}).map(e=>{let[t,s]=e;return(0,a.jsxs)("li",{children:[t,":"," ",(0,a.jsx)(g,{value:s})]},t)})})]},e.name))})]}),(0,a.jsxs)("button",{onClick:()=>l(e=>!e),children:[n?"Hide":"Show"," default values"]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Game Rule Defaults"}),(0,a.jsx)("span",{children:"(The default values for each game rule)"}),(0,a.jsx)("ul",{children:t.map(e=>(0,a.jsxs)("li",{children:[e.name,":"," ",(0,a.jsx)(g,{value:e.defaultValue})]},e.name))})]})]})}let g=e=>{let{value:t}=e;return"true"===t||"false"===t?(0,a.jsx)("span",{className:"value-".concat(t),children:t}):/^-?\d+$/.test(t)?(0,a.jsx)("span",{className:"value-number",children:t}):(0,a.jsx)("span",{className:"value-string",children:t})},w=e=>{let t=Array.from(new Set(Object.values(e.worldValues)));return 1===t.length&&t[0]===e.defaultValue};function b(e){let{systemStatistics:t}=e;return(0,a.jsxs)("p",{children:["The JVM was started with the following arguments:",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{maxWidth:"1000px",display:"inline-block",color:"inherit"},children:t.java.vmArgs})]})}var y=s(3576),k=s(2779),S=s(921);function C(e){let{memory:t,gc:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Memory Areas"}),(0,a.jsxs)("div",{className:"memory",children:[t.heap&&(0,a.jsx)(N,{name:"Heap",usage:t.heap}),t.nonHeap&&(0,a.jsx)(N,{name:"Non Heap",usage:t.nonHeap}),(t.pools||[]).filter(e=>e.usage).map(e=>(0,a.jsx)(N,{name:"Heap - "+e.name,usage:e.usage,collectionUsage:e.collectionUsage},e.name))]})]})}let N=e=>{let{name:t,usage:s,collectionUsage:n}=e;return(0,a.jsxs)("div",{className:"memory-pool",children:[(0,a.jsx)("div",{className:"header",children:t}),(0,a.jsx)(F,(0,y._)({},s)),n&&(0,a.jsxs)("div",{children:[(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"header",children:[t," (at last GC)"]}),(0,a.jsx)(F,(0,y._)({},n))]})]})},F=e=>{let t,s,{used:n,committed:l,max:r}=e;return s=(t=r&&r>0?n/r:n/l)>.9?S.m.colors.red:t>.65?S.m.colors.yellow:S.m.colors.green,(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"usage-bar",children:(0,a.jsx)("div",{style:{width:"".concat(Math.ceil(100*t),"%"),backgroundColor:s}})}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Used: ",(0,a.jsx)("span",{children:(0,k.z3)(n)})]}),(0,a.jsxs)("li",{children:["Committed: ",(0,a.jsx)("span",{children:(0,k.z3)(l)})]}),-1!==r&&r!==l&&(0,a.jsxs)("li",{children:["Max: ",(0,a.jsx)("span",{children:(0,k.z3)(r)})]})]})]})};var T=s(8369),A=s.n(T),I=s(9776),E=s(4159);function O(e){let{systemStatistics:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Network Interfaces"}),(0,a.jsx)("p",{children:"Note: the usage tracked below is captured at a system level (includes data from other processes running on the same machine)."}),(0,a.jsx)("div",{children:Object.entries(t.net).map(e=>{let[t,s]=e;return(0,a.jsx)(_,{name:t,data:s},t)})})]})}let _=e=>{let{name:t,data:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:t}),(0,a.jsxs)("div",{className:l()(A().widgets,"widgets","net-interface-widgets"),children:[(0,a.jsx)(P,{direction:"Transmit",format:"bytes/sec",values:s.txBytesPerSecond}),(0,a.jsx)(P,{direction:"Receive",format:"bytes/sec",values:s.rxBytesPerSecond})]}),(0,a.jsxs)("div",{className:l()(A().widgets,"widgets","net-interface-widgets"),children:[(0,a.jsx)(P,{direction:"Transmit",format:"packets/sec",values:s.txPacketsPerSecond}),(0,a.jsx)(P,{direction:"Receive",format:"packets/sec",values:s.rxPacketsPerSecond})]})]})},P=e=>{let{direction:t,format:s,values:n}=e;return(0,a.jsxs)(I.A,{title:t,label:s,formatter:{color:e=>e<=0?S.m.colors.yellow:S.m.colors.green,format:e=>"bytes/sec"===s?(0,k.z3)(e):(0,k.ZV)(e)},children:[(0,a.jsx)(E.A,{value:n.min,label:"min"}),(0,a.jsx)(E.A,{value:n.median,label:"med"}),(0,a.jsx)(E.A,{value:n.percentile95,label:"95%ile"}),(0,a.jsx)(E.A,{value:n.max,label:"max"})]})};function R(e){let{platform:t,platformStatistics:s,systemStatistics:n,platformType:l,onlineMode:r,runningTime:i,numberOfTicks:o,numberOfIncludedTicks:c,engine:x}=e,{t:h}=(0,u.o)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[h("platformStats.".concat("application"===l?"systemIs":"platformIs"))," ",(0,a.jsx)("span",{children:t.brand||t.name})," ",l," ",h("platformStats.running")," ","application"===l?h("platformStats.sparkVersion"):""," ",h("platformStats.version"),'"',(0,a.jsx)("span",{children:t.version}),'".']}),t.minecraftVersion&&(0,a.jsxs)("p",{children:[h("platformStats.minecraftVersion"),' "',(0,a.jsx)("span",{children:t.minecraftVersion}),'".']}),r&&(0,a.jsxs)("p",{children:[l," ",h("platformStats.isRunningIn")," ",(0,a.jsx)("span",{children:r}),"."]}),(null==s?void 0:s.playerCount)>0&&(0,a.jsxs)("p",{children:[l," ",h("platformStats.playerCount")," ",(0,a.jsx)("span",{children:s.playerCount})," ",h("platformStats.playersOnline"),"."]}),!!n&&(0,a.jsx)(M,{systemStatistics:n}),i&&(0,a.jsxs)("p",{children:[h("platformStats.profilerWasRunning")," ",x?(0,a.jsxs)(a.Fragment,{children:["(",h("platformStats.engine")," ",(0,a.jsx)("span",{children:x==d.Hq.ASYNC?"async":"java"}),")"," "]}):"",h("platformStats.wasRunningFor")," ",(0,a.jsx)("span",{children:(0,k.a3)(i)}),!!o&&(0,a.jsxs)(a.Fragment,{children:[" ","(",(0,a.jsx)("span",{children:o})," ",h("platformStats.ticks"),")"]}),".",!!c&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("span",{children:c})," ",h("platformStats.ticksExceeded"),"."]})]})]})}let M=e=>{var t,s;let{systemStatistics:n}=e,{t:l}=(0,u.o)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[l("platformStats.systemIsRunning")," ",(0,a.jsx)("span",{children:n.os.name})," (",(0,a.jsx)("span",{children:n.os.arch}),") ",l("platformStats.version2"),' "',(0,a.jsx)("span",{children:n.os.version}),'" ',l("platformStats.andHas")," ",(0,a.jsx)("span",{children:n.cpu.threads})," ",l("platformStats.cpuThreadsAvailable"),"."]}),n.cpu.modelName&&(0,a.jsxs)("p",{children:[l("platformStats.cpuDescribed")," ",(0,a.jsx)("span",{children:n.cpu.modelName}),"."]}),(0,a.jsxs)("p",{children:[l("platformStats.processUsing")," ",(0,a.jsx)("span",{children:n.java.version})," (",(0,a.jsx)("span",{children:n.java.vendorVersion})," ",l("platformStats.from")," ",(0,a.jsx)("span",{children:n.java.vendor}),").",(null==(t=n.jvm)?void 0:t.name)&&(0,a.jsxs)(a.Fragment,{children:[" ",l("platformStats.jvmIs")," ",(0,a.jsx)("span",{children:null==(s=n.jvm)?void 0:s.name}),"."]})]}),(0,a.jsxs)("p",{children:[l("platformStats.currentProcessUptime")," ",(0,a.jsx)("span",{children:(0,k.a3)(n.uptime)}),"."]})]})};function V(e){let{plugins:t,dataPacks:s}=e,[n,l]=(0,o.useState)(!1),r=t.some(e=>e.builtIn),i=n?t:t.filter(e=>!e.builtIn),[d,c]=(0,o.useState)(!1),u=s.some(e=>e.builtIn),x=d?s:s.filter(e=>!e.builtIn);return(0,a.jsxs)("div",{className:"plugins-mods-list",children:[!!t.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Plugins/Mods"}),r&&(0,a.jsxs)("button",{onClick:()=>l(e=>!e),children:[n?"Hide":"Show"," built-in plugins"]}),(0,a.jsx)("ul",{children:i.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(D,(0,y._)({},e))},e.name))})]}),!!s.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Data Packs"}),u&&(0,a.jsxs)("button",{onClick:()=>c(e=>!e),children:[d?"Hide":"Show"," built-in Data Packs"]}),(0,a.jsx)("ul",{children:x.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(H,(0,y._)({},e))},e.name))})]})]})}let H=e=>{let{name:t,description:s,source:n}=e,l=(0,a.jsx)("span",{className:"title",children:t}),r=n?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("span",{className:"darker",children:"("}),n,(0,a.jsx)("span",{className:"darker",children:")"})]}):null,i=s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),s]}):null;return(0,a.jsxs)(a.Fragment,{children:[l,r,i]})},D=e=>{let{name:t,version:s,author:n,description:l}=e,r=(0,a.jsx)("span",{className:"title",children:t}),i=n?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)("span",{className:"darker",children:"by"})," ",n]}):null,o=s?(0,a.jsxs)(a.Fragment,{children:[" ",s.startsWith("v")?s:"v".concat(s)]}):null,d=l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),l]}):null;return(0,a.jsxs)(a.Fragment,{children:[r,o,i,d]})};function L(e){let{parsedConfigurations:t}=e;return(0,a.jsxs)("div",{className:"configurations",children:[(0,a.jsx)("p",{children:"The server is using the following configuration settings:"}),(0,a.jsx)(m,{data:t})]})}var W=s(2701),z=s(9893);function U(e){let{chunks:t}=e,s=t.slice(0,10),n=t.length-10;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("ul",{children:[s.map(e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("span",{"data-tooltip-id":"chunk-tp-tooltip","data-tooltip-content":"/tp ".concat(16*e.x," ~ ").concat(16*e.z),children:[e.x,", ",e.z]})," ","(",e.totalEntities," ",1===e.totalEntities?"entity":"entities",")"]},"".concat(e.x,",").concat(e.z))),n>0&&(0,a.jsxs)("li",{style:{listStyleType:"none"},children:["... and ",n," more"]})]}),(0,a.jsx)(z.m_,{id:"chunk-tp-tooltip",place:"left",clickable:!0})]})}let q=o.lazy(()=>Promise.all([s.e(9),s.e(745)]).then(s.bind(s,6745)));function J(e){let{entityCounts:t}=e,s=Object.entries(t).sort((e,t)=>t[1]-e[1]).slice(0,15);return(0,a.jsx)("ul",{children:s.map(e=>{let[t,s]=e;return t.startsWith("minecraft:")&&(t=t.substring(10)),(0,a.jsxs)("li",{children:[(0,a.jsx)(o.Suspense,{fallback:null,children:(0,a.jsx)(q,{name:t})}),t,": ",(0,a.jsx)("span",{children:s})]},t)})})}function B(e){let{worlds:t}=e,{t:s}=(0,u.o)(),n=(0,o.useMemo)(()=>{let e=[];for(let s of t)for(let t of s.regions){let a=(0,W._)((0,y._)({},t),{world:s.name});a.chunks.sort((e,t)=>t.totalEntities-e.totalEntities),e.push(a)}return e.sort((e,t)=>t.totalEntities-e.totalEntities),e},[t]),[l,r]=(0,o.useState)(0),i=(0,o.useMemo)(()=>n[l],[n,l]),d=(0,o.useMemo)(()=>{let e={};for(let t of i.chunks)for(let[s,a]of Object.entries(t.entityCounts))e[s]||(e[s]=0),e[s]+=a;return e},[i]);return(0,a.jsxs)("div",{className:"region-view",children:[(0,a.jsxs)("div",{className:"header region-selector",children:[(0,a.jsx)("div",{className:"button",onClick:function(){r(e=>(e-1+n.length)%n.length)},title:s("viewer.world.previous"),children:(0,a.jsx)(h.g,{icon:x.dDM})}),(0,a.jsxs)("span",{children:[s("viewer.world.region")," #",l+1," (",s("viewer.world.of")," ",n.length,")"]}),(0,a.jsx)("div",{className:"button",onClick:function(){r(e=>(e+1)%n.length)},title:s("viewer.world.next"),children:(0,a.jsx)(h.g,{icon:x.dxS})})]}),(0,a.jsxs)("div",{className:"detail-lists",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:s("viewer.world.entities")})," (",(0,a.jsx)("span",{children:i.totalEntities}),"):"]}),(0,a.jsx)(J,{entityCounts:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"World"}),": ",i.world]}),(0,a.jsx)("br",{}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:s("viewer.world.chunks")})," (",(0,a.jsx)("span",{children:i.chunks.length}),"):"]}),(0,a.jsx)(U,{chunks:i.chunks})]})]})]})}function G(e){let{worldsInput:t}=e,{t:s}=(0,u.o)();for(let e of t)e.totalChunks=e.regions.reduce((e,t)=>e+t.chunks.length,0);let n=t.reduce((e,t)=>e+t.totalChunks,0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:s("viewer.world.chunks")})," (",s("viewer.world.total"),"): ",(0,a.jsx)("span",{children:n})]}),(0,a.jsx)("ul",{children:t.sort((e,t)=>t.totalChunks-e.totalChunks).map(e=>(0,a.jsxs)("li",{children:[e.name,": ",(0,a.jsx)("span",{children:e.totalChunks})]},e.name))})]})}function K(e){let{totalEntities:t,worlds:s}=e,{t:n}=(0,u.o)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:n("viewer.world.entities")})," (",n("viewer.world.total"),"): ",(0,a.jsx)("span",{children:t})]}),(0,a.jsx)("ul",{children:s.sort((e,t)=>t.totalEntities-e.totalEntities).map(e=>(0,a.jsxs)("li",{children:[e.name,": ",(0,a.jsx)("span",{children:e.totalEntities})]},e.name))})]})}function Y(e){let{worldStatistics:t}=e,{t:s}=(0,u.o)();return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"header",children:s("viewer.world.summary")}),(0,a.jsxs)("div",{className:"detail-lists",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(K,{totalEntities:t.totalEntities,worlds:t.worlds}),(0,a.jsx)(G,{worldsInput:t.worlds})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:s("viewer.world.entityCounts")}),":"]}),(0,a.jsx)(J,{entityCounts:t.entityCounts})]})]})]})}function Q(e){let{worldStatistics:t}=e;return(0,a.jsxs)("div",{className:"entity-counts",children:[(0,a.jsx)(Y,{worldStatistics:t}),(0,a.jsx)(B,{worlds:t.worlds})]})}function X(e){var t,s;let{metadata:n}=e,{t:l}=(0,u.o)(),{platform:r,platformStatistics:i,systemStatistics:x,serverConfigurations:h,extraPlatformMetadata:m}=n,j=d.KI[r.type].toLowerCase(),{parsedConfigurations:p,onlineMode:g}=(0,o.useMemo)(()=>{let e,t;h&&Object.keys(h).length&&(e=(0,c.K0)(h,e=>JSON.parse(e)));try{t=(0,c.Q)(null==i?void 0:i.onlineMode,e)}catch(e){}return{parsedConfigurations:e,onlineMode:t}},[h,i]),w=(0,o.useMemo)(()=>{if(m&&Object.keys(m).length)return(0,c.K0)(m,e=>JSON.parse(e))},[m]),{runningTime:y,numberOfTicks:k,numberOfIncludedTicks:S,samplerEngine:N}=(0,c.XI)(n),[F,T]=(0,o.useState)(l("viewer.metadataTabs.platform")),A={[l("viewer.metadataTabs.platform")]:()=>!0,[l("viewer.metadataTabs.memory")]:()=>{var e,t,s;return!!(null==i||null==(e=i.memory)?void 0:e.heap)||!!(null==i||null==(s=i.memory)||null==(t=s.pools)?void 0:t.length)},[l("viewer.metadataTabs.network")]:()=>{var e;return!!Object.keys(null!=(e=null==x?void 0:x.net)?e:{}).length},[l("viewer.metadataTabs.jvmFlags")]:()=>{var e;return!!(null==x||null==(e=x.java)?void 0:e.vmArgs)},[l("viewer.metadataTabs.configurations")]:()=>!!p,[l("viewer.metadataTabs.world")]:()=>{var e;return!!(null==i?void 0:i.world)&&!!(null==i||null==(e=i.world)?void 0:e.totalEntities)},[l("viewer.metadataTabs.misc")]:()=>!!w,[l("viewer.metadataTabs.gameRules")]:()=>{var e;return!!(null==i||null==(e=i.world)?void 0:e.gameRules.length)},[l("viewer.metadataTabs.pluginsMods")]:()=>{var e;return!!(null==i||null==(e=i.world)?void 0:e.dataPacks.length)||!!Object.keys(n.sources).length}};return(0,a.jsxs)("div",{className:"textbox metadata-detail",children:[(0,a.jsx)("div",{className:"metadata-detail-controls",children:Object.entries(A).map(e=>{let[t,s]=e;return!!s()&&(0,a.jsx)("div",{onClick:()=>T(t),className:F===t?"toggled":void 0,children:t},t)})}),(0,a.jsx)("div",{className:"metadata-detail-content",children:F===l("viewer.metadataTabs.platform")?(0,a.jsx)(R,{platform:r,platformStatistics:i,systemStatistics:x,platformType:j,onlineMode:g,runningTime:y,numberOfTicks:k,numberOfIncludedTicks:S,engine:N}):F===l("viewer.metadataTabs.memory")?(0,a.jsx)(C,{memory:null==i?void 0:i.memory,gc:null==i?void 0:i.gc}):F===l("viewer.metadataTabs.network")?(0,a.jsx)(O,{systemStatistics:x}):F===l("viewer.metadataTabs.jvmFlags")?(0,a.jsx)(b,{systemStatistics:x}):F===l("viewer.metadataTabs.configurations")?(0,a.jsx)(L,{parsedConfigurations:p}):F===l("viewer.metadataTabs.world")?(0,a.jsx)(Q,{worldStatistics:i.world}):F===l("viewer.metadataTabs.gameRules")?(0,a.jsx)(v,{gameRules:null==i||null==(t=i.world)?void 0:t.gameRules}):F===l("viewer.metadataTabs.pluginsMods")?(0,a.jsx)(V,{plugins:Object.values(n.sources||{}),dataPacks:(null==i||null==(s=i.world)?void 0:s.dataPacks)||[]}):F===l("viewer.metadataTabs.misc")?(0,a.jsx)(f,{data:w}):(0,a.jsx)("p",{children:"Unknown view."})})]})}var Z=s(8815);function $(e){let{metadata:t,metadataToggle:s}=e;return(0,a.jsxs)("div",{className:l()(i().metadata,{expanded:s.showInfo}),style:{display:s.showWidgets?void 0:"none"},children:[!!t.platformStatistics&&(0,a.jsx)(Z.A,{metadata:t,expanded:s.showInfo}),!!t.platform&&s.showInfo&&(0,a.jsx)(X,{metadata:t})]})}},1043:e=>{e.exports={metadata:"metadata_metadata__Bdn_l"}},1630:e=>{e.exports={controls:"controls_controls__cDf_0"}},2318:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(7876),n=s(7460),l=s(5039),r=s.n(l);function i(e){let{icon:t,onClick:s,title:l,extraClassName:i,children:o}=e,d=r()("button","textbox",i);return(0,a.jsxs)("div",{className:d,onClick:s,title:l,children:[(0,a.jsx)(n.g,{icon:t}),o]})}},2913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(7876),n=s(8847),l=s.n(n),r=s(9099),i=s(4232),o=s(9915),d=s(8341),c=s(7897),u=s(1106),x=s(1032),h=s(6724),m=s(4198),j=s(140),p=s(4344),f=s(1630),v=s.n(f),g=s(5573),w=s(7328),b=s.n(w),y=s(3213),k=s(2779);function S(e){let{metadata:t}=e,{user:s,generatedTime:n}=t,[l,r]=(0,k.Yq)(n);return(0,a.jsxs)("div",{className:"textbox title",children:[(0,a.jsx)(b(),{children:(0,a.jsxs)("title",{children:["Health Report @ ",l," ",r," | spark"]})}),(0,a.jsxs)("span",{children:["Health Report created by"," ",(0,a.jsx)(y.A,{user:s,platform:t.platform}),null==s?void 0:s.name," @ ",l," ",r]})]})}function C(e){let{metadata:t,exportCallback:s}=e;return(0,a.jsxs)("div",{className:v().controls,children:[(0,a.jsx)(S,{metadata:t}),(0,a.jsx)(g.A,{exportCallback:s})]})}function N(e){let{metadata:t,exportCallback:s}=e,n=(0,p.C)();return(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{metadata:t,exportCallback:s}),(0,a.jsx)(j.A,{metadata:t,metadataToggle:n})]})}s(7141);let F=l()(()=>Promise.all([s.e(950),s.e(479),s.e(53)]).then(s.bind(s,5053)),{loadableGenerated:{webpack:()=>[5053]}}),T=l()(()=>Promise.all([s.e(644),s.e(479),s.e(795),s.e(815)]).then(s.bind(s,2815)),{loadableGenerated:{webpack:()=>[2815]}});function A(e){let{initialResult:t}=e,n=(0,r.useRouter)(),l=(0,i.useMemo)(()=>n.query.code,[n]),{selectedFile:j}=(0,i.useContext)(c.SelectedFileContext),[p,f]=(0,i.useState)(m.Co),[v,g]=(0,i.useState)(),[w,b]=(0,i.useState)(),[y,k]=(0,i.useState)(),{t:S}=(0,d.o)(),C=(0,i.useCallback)(async e=>{let{type:t,buf:s,exportCallback:a}=await (0,x.K9)(e,null,!1);k(()=>a);let[n]=(0,h.q)(t,s);g(n),b(n.metadata)},[k,g]);switch((0,i.useEffect)(()=>{if(t){try{t.exportCallback&&k(()=>t.exportCallback);let[e,s]=(0,h.q)(t.type,t.buf);g(e),b(e.metadata),f(s)}catch(e){console.error("Failed to parse initial result for viewer",e),f(m.vL)}return}l&&p===m.Co&&(async()=>{try{let t,a="true"===n.query.remote,r="remote_".concat(l);if(a&&1){let a=sessionStorage.getItem(r);if(!a){var e;a=null!=(e=localStorage.getItem(r))?e:null}if(a)try{let e=JSON.parse(a);if(e.indexed){let{idbGet:a,idbDelete:n}=await s.e(873).then(s.bind(s,3873)),i=await a(r);if(!i&&e.downloadPath)try{i=(await (0,x.zv)(e.downloadPath)).buf}catch(e){console.error("Failed to re-download remote payload:",e)}if(!i)throw Error("Remote payload not found in IndexedDB or by re-download");await n(r).catch(()=>{}),sessionStorage.removeItem(r),localStorage.removeItem(r),t={type:e.type,buf:i,exportCallback:(0,u.O)(l,i,e.type)}}else{let{data:a,type:n,metadata:i,downloadPath:o}=e,d=new Uint8Array(a).buffer;try{let{idbPut:e}=await s.e(873).then(s.bind(s,3873));await e(r,d);try{localStorage.setItem(r,JSON.stringify({indexed:!0,type:n,metadata:i,downloadPath:o}))}catch(e){console.warn("Failed to write localStorage marker",e)}}catch(e){console.warn("Failed to persist remote payload to IndexedDB:",e)}sessionStorage.removeItem(r),t={type:n,buf:d,exportCallback:(0,u.O)(l,d,n)}}}catch(e){throw console.error("Failed to parse remote session data:",e),Error("Invalid remote session data")}else throw Error("Remote session data not found")}else t="_"!==l?await (0,x.K9)(l,n,!1):await (0,x.TP)(j);t.exportCallback&&k(()=>t.exportCallback);let[i,o]=(0,h.q)(t.type,t.buf);g(i),b(i.metadata),f(o)}catch(e){console.log(e),f(m.vL)}})()},[t,p,f,l,j,n]),p){case m.Co:return(0,a.jsx)(o.A,{children:"_"===l?"Loading file...":"Downloading..."});case m.vL:return(0,a.jsx)(o.A,{extraClassName:"loading-error",children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("div",{children:S("viewer.failedLoad.message")}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>n.push("/"),style:{padding:"6px 10px",borderRadius:4,background:"linear-gradient(90deg,#ffc93a,#ffb300)",border:"none",color:"#111",fontWeight:600},children:S("viewer.failedLoad.goHome")})})]})});case m.VV:return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(o.A,{children:"Loading..."}),children:(0,a.jsx)(T,{data:v,fetchUpdatedData:C,metadata:w,setMetadata:b,exportCallback:y})});case m.es:return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(o.A,{children:"Loading..."}),children:(0,a.jsx)(F,{data:v,metadata:w,exportCallback:y})});case m.Cw:return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(o.A,{children:"Loading..."}),children:(0,a.jsx)(N,{data:v,metadata:w,exportCallback:y})});default:return(0,a.jsx)(o.A,{children:"Unknown state - this is a bug."})}}},3957:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(6823),n=s(4232);function l(e,t){let[s,l]=(0,n.useState)(()=>{let s=(0,a.get)(e);return null!==s?s:t});(0,n.useEffect)(()=>{(0,a.set)(e,s)},[e,s]);let r=(0,n.useCallback)(()=>{l(e=>!e)},[l]);return[s,l,r]}},4344:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,C:()=>r});var a=s(4232),n=s(3957);function l(){let[e,t,s]=(0,n.A)("prefShowWidgets",!0),[l,r,i]=(0,n.A)("prefShowInfo",!1);return(0,a.useEffect)(()=>{e||r(!1)},[e,r]),(0,a.useEffect)(()=>{l&&t(!0)},[l,t]),{showWidgets:e,showInfo:l,toggleWidgets:s,toggleInfo:i}}function r(){return{showWidgets:!0,showInfo:!0,toggleWidgets:()=>{},toggleInfo:()=>{}}}},5573:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(7876),n=s(1041),l=s(2318),r=s(8341);function i(e){let{exportCallback:t}=e,{t:s}=(0,r.o)();return t?(0,a.jsx)(l.A,{icon:n.o1d,onClick:t,title:s("viewer.controls.exportProfile")}):null}}}]);