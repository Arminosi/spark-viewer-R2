(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{1528:e=>{e.exports={switch:"switch_switch__MKxDO",slider:"switch_slider__uUjiS"}},2815:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ty});var n=s(7876),r=s(8847),a=s.n(r),i=s(4232),o=s(3038),l=s(6570),c=s.n(l),d=s(1041),u=s(7460),m=s(9915);function h(){let[e,t]=(0,i.useState)(!0);if(!e)return null;let s=(0,n.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"});return(0,n.jsxs)(m.A,{extraClassName:c()["version-warning"],children:[s,(0,n.jsx)("b",{children:" This profile was created using an old version of spark! "}),s,(0,n.jsx)(u.g,{icon:d.GRI,onClick:function(){t(!1)}}),(0,n.jsx)("br",{}),"Some viewer features cannot be supported. Please consider updating to a newer version."]})}var p=s(140),f=s(4344),g=s(3957),v=s(3576),x=s(9099);let j=e=>(t,s)=>{if(!Array.isArray(s))return e(t,s);for(let n of s)if(e(t,n))return!0;return!1},w=j((e,t)=>e.has(t)),y=j((e,t)=>(e.add(t),!1)),b=j((e,t)=>(e.delete(t),!1));var N=s(2162);class k{resolveSearchQuery(e){let t=new Set;for(let s of this.data.nodes.threadNodes)this.resolve(s,e,t);return t}resolve(e,t,s){for(let n of(!s.has(e.id)&&this.nodeMatchesQuery(t,e)&&(s.add(e.id),this.addAllChildren(e,s),this.addAllParents(e,s)),e.children))this.resolve(n,t,s)}addAllChildren(e,t){for(let s of e.children)t.add(e.id),this.addAllChildren(s,t)}addAllParents(e,t){for(let s of this.data.bottomUp.getParents(e.id))t.add(s)}nodeMatchesQuery(e,t){if((0,N.fX)(t))return t.name.toLowerCase().includes(e);{let s=this.data.sources.getSource(t.id);return t.className.toLowerCase().includes(e)||t.methodName.toLowerCase().includes(e)||s&&s.toLowerCase().includes(e)}}constructor(e){this.data=e}}var S=s(2701),C=function(e){return e[e.KEEP_LISTENING=0]="KEEP_LISTENING",e[e.STOP_LISTENING=1]="STOP_LISTENING",e}({});class T{register(e){return this.listeners.push(e),()=>this.unregister(e)}unregister(e){let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}dispatch(e){let t=[];this.listeners.forEach((s,n)=>{s(e)===C.STOP_LISTENING&&t.unshift(n)}),t.forEach(e=>this.listeners.splice(e,1))}constructor(){this.listeners=[]}}var _=s(3270),I=s.n(_),M=s(5436);class A{async run(){this.socket.eventBus.register(this.onMessage.bind(this)),await this.sendClientConnect()}async sendClientConnect(){let{browser:e,os:t}=I().parse(window.navigator.userAgent),s={clientId:this.clientId,description:"".concat(e.name," on ").concat(t.name)};await this.socket.send({oneofKind:"clientConnect",clientConnect:s})}constructor(e,t){this.onMessage=e=>{if("serverConnectResponse"!==e.oneofKind)return C.KEEP_LISTENING;let t=e.serverConnectResponse;if(t.clientId!==this.clientId)return C.KEEP_LISTENING;if(t.state===M.zr.ACCEPTED||t.state===M.zr.UNTRUSTED){let e=t.state===M.zr.ACCEPTED;return console.log("[WS] Established connection with server (".concat(e?"trusted":"untrusted",")")),this.socket.startKeepalive(this.listener.onPing).then(e=>{}),this.listener.onConnect(this.socket,t.settings,e,this.clientId,t.lastPayloadId),e?C.STOP_LISTENING:C.KEEP_LISTENING}if(t.state===M.zr.REJECTED)return console.log("[WS] Rejected by server, disconnecting."),this.socket.socket.close(),C.STOP_LISTENING;throw Error("unknown state: ".concat(t.state))},this.socket=e,this.listener=t,this.clientId="".concat(E(4),"-").concat(E(4))}}function E(e){let t=new Uint8Array((e||40)/2);return crypto.getRandomValues(t),Array.from(t,function(e){return e.toString(16).padStart(2,"0")}).join("")}var F=s(943),L=s(6823);async function P(){let e=(0,L.get)("viewer-public-key"),t=(0,L.get)("viewer-private-key");if(e&&t){var s,n;return{publicKey:await (s=(0,F.D)(e),V("spki",s,[])),privateKey:await (n=(0,F.D)(t),V("pkcs8",n,["sign"]))}}}async function D(){let{publicKey:e,privateKey:t}=await crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["sign"]),s=await crypto.subtle.exportKey("spki",e);(0,L.set)("viewer-public-key",(0,F.l)(s));let n=await crypto.subtle.exportKey("pkcs8",t);return(0,L.set)("viewer-private-key",(0,F.l)(n)),{publicKey:e,privateKey:t}}function V(e,t,s){return crypto.subtle.importKey(e,t,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,s)}var R=s(5583);class B{static async connect(e,t,n){console.log("[WS] Creating remote socket client");let r=new Worker(s.tu(new URL(s.p+s.u(614),s.b))),a=(0,R.LV)(r);return new B(await new a(e,t,(0,R.BX)({onclose:(0,R.BX)(n.onclose),onerror:(0,R.BX)(n.onerror),onmessage:(0,R.BX)(n.onmessage),onopen:(0,R.BX)(n.onopen)})))}async send(e){await this.proxy.send((0,R.k0)(e,[e.buffer]))}async startKeepalive(e){await this.proxy.startKeepalive((0,R.BX)(e))}async close(){await this.proxy.close(),this.proxy[R.A2]()}constructor(e){this.proxy=e}}class O{static async connect(e,t){let s=await P()||await D(),n=await V("spki",e.publicKey,["verify"]);console.log("[WS] Loaded viewer keys and decoded remote public key");let r=new O,a=await B.connect(e.channelId,{remotePublicKey:n,localPublicKey:s.publicKey,localPrivateKey:s.privateKey},{onclose:()=>{t.onClose()},onopen:()=>{console.log("[WS] Socket open, initialising connection..."),new A(r,t).run()},onmessage:e=>{r.onReceive(e)},onerror:()=>{}});r.setSocket(a)}setSocket(e){this.socket=e}async startKeepalive(e){await this.socket.startKeepalive(e)}async send(e){await this.socket.send(M.A1.toBinary({packet:e}))}async onReceive(e){this.eventBus.dispatch(M.A1.fromBinary(e).packet)}constructor(){this.eventBus=new T}}class K{static async create(e){let t=new Worker(s.tu(new URL(s.p+s.u(467),s.b))),n=(0,R.LV)(t),r={threads:e.threads,sources:e.sources};return new K(await new n(r))}generateFlatView(){return this.proxy.generateFlatView()}generateSourcesView(){return this.proxy.generateSourcesView()}close(){this.proxy[R.A2]()}constructor(e){this.proxy=e}}var U=s(1630),W=s.n(U),G=s(5573),X=s(8144),q=s(7328),z=s.n(q),Q=s(3213),$=s(2779);function Y(e){let{metadata:t}=e,{user:s,startTime:r,interval:a,dataAggregator:i}=t,o=t.comment?'"'+t.comment+'"':"",[l,c]=(0,$.F5)(r),d="";i&&i.type===M.zy.TICKED&&(d=", ticks >= "+i.tickLengthThreshold/1e3+"ms");let u=t.samplerMode===M.gi.ALLOCATION,m=u?(0,$.DL)(a):"".concat(a/1e3,"ms");return(0,n.jsxs)("div",{className:"textbox title",children:[(0,n.jsx)(z(),{children:(0,n.jsxs)("title",{children:[u?"Memory Profile":"Profile"," @ ",l," ",c," | spark"]})}),(0,n.jsxs)("span",{children:[o,(0,n.jsx)(Q.A,{user:s,platform:t.platform}),null==s?void 0:s.name," @ ",l," ",c,", interval"," ",m,d]})]})}var H=s(2318);function J(e){let{setFlameData:t}=e;return(0,n.jsx)(H.A,{icon:d.GRI,onClick:function(){t(void 0)},title:"Exit the Flame Graph view"})}class Z{getId(){return this.node.id}getDetails(){return(0,N.fX)(this.node)?{type:"thread",name:this.node.name}:{type:"stackTrace",className:this.node.className,methodName:this.node.methodName,parentLineNumber:this.node.parentLineNumber,lineNumber:this.node.lineNumber,methodDesc:this.node.methodDesc}}getTime(){return this.node.time}getTimes(){return this.node.times}getChildren(){return void 0===this.children&&(this.children=this.node.children.map(e=>new Z(this.data,e,this))),this.children}getParents(){return this.parent?[this.parent]:[]}getSource(){return this.data.sources.getSource(this.node.id)}constructor(e,t,s){this.data=e,this.node=t,this.parent=s}}function ee(e){let{data:t,setFlameData:s}=e;return 1!==t.threads.length?null:(0,n.jsx)(H.A,{icon:d.kNw,onClick:function(){s(new Z(t,t.threads[0]))},title:"View the profile as a Flame Graph"})}function et(e){let{graphSupported:t,showGraph:s,setShowGraph:r}=e;return t?(0,n.jsx)(H.A,{icon:d.gK3,onClick:function(){r(e=>!e)},title:"View the graph",extraClassName:s?"toggled":void 0}):null}var es=s(5039),en=s.n(es),er=s(1995);function ea(e){var t,s;let{socket:r,showSocketInfo:a,setShowSocketInfo:i}=e;return r.socket.socket?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:en()("last-update-spinner button textbox",{toggled:a}),onClick:function(e){i(e=>!e)},children:(0,n.jsx)(er.F,{isPlaying:!0,size:26,strokeWidth:4,duration:null!=(s=null==(t=r.socket.settings)?void 0:t.samplerInterval)?s:60,colors:"#b5b5b5",trailColor:"#3c3f41",children:()=>{var e,t;return(0,n.jsx)(er.F,{isPlaying:!0,size:16,strokeWidth:4,duration:null!=(t=null==(e=r.socket.settings)?void 0:e.statisticsInterval)?t:10,colors:"#b5b5b5",trailColor:"#3c3f41"},r.lastStatsUpdate)}},r.lastSamplerUpdate)})}):null}function ei(e){let{searchQuery:t}=e;return(0,n.jsx)("input",{className:"searchbar",type:"text",value:t.value,onChange:function(e){t.setValue(e.target.value.toLowerCase())}})}function eo(e){let{showSettings:t,setShowSettings:s}=e;return(0,n.jsx)(H.A,{icon:d._$s,onClick:function(){s(e=>!e)},title:"Click to show the settings menu",extraClassName:t?"toggled":void 0})}var el=s(8341);let ec="flat";function ed(e){let{metadata:t,view:s,setView:r,sourcesViewSupported:a}=e,{t:i}=(0,el.o)(),o=["all",ec,...a?["sources"]:[]];return(0,n.jsx)(n.Fragment,{children:o.map(e=>{let a;if("all"===e)a=i("viewer.allView.title");else if(e===ec)a=i("viewer.flatView.title");else{var o;a=["Fabric","Forge","NeoForge"].includes((null==t||null==(o=t.platform)?void 0:o.name)||"")?i("viewer.sourcesView.modsTitle"):i("viewer.sourcesView.pluginsTitle")}return(0,n.jsx)(H.A,{icon:d.pS3,onClick:function(){r(e)},title:i("viewer.controls.toggleView"),extraClassName:s===e?"sources-view-button toggled":"sources-view-button",children:(0,n.jsx)("span",{children:a})},a)})})}function eu(e){let{data:t,metadata:s,metadataToggle:r,exportCallback:a,showSettings:i,setShowSettings:o,view:l,setView:c,sourcesViewSupported:d,graphSupported:u,showGraph:m,setShowGraph:h,socket:p,showSocketInfo:f,setShowSocketInfo:g,flameData:v,setFlameData:x,searchQuery:j}=e;return(0,n.jsxs)("div",{className:W().controls,children:[(0,n.jsx)(Y,{metadata:s}),(0,n.jsx)(X.A,{metadata:s,metadataToggle:r}),(0,n.jsx)(et,{graphSupported:u,showGraph:m,setShowGraph:h}),(0,n.jsx)(eo,{showSettings:i,setShowSettings:o}),v?(0,n.jsx)(J,{setFlameData:x}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed,{metadata:s,view:l,setView:c,sourcesViewSupported:d}),(0,n.jsx)(ee,{data:t,setFlameData:x}),(0,n.jsx)(G.A,{exportCallback:a}),(0,n.jsx)(ei,{searchQuery:j})]}),(0,n.jsx)(ea,{socket:p,showSocketInfo:f,setShowSocketInfo:g})]})}var em=s(7560),eh=s(3860);function ep(e){let{flameData:t,mappings:s,metadata:r,timeSelector:a}=e,o=a.getTime,l=r.samplerMode===M.gi.ALLOCATION,[c,d]=(0,i.useMemo)(()=>(function e(t,s,n,r){let a,i,o=t.getDetails();if("thread"===o.type)a=o.name;else if("stackTrace"===o.type){let e=s.resolve(o);if("native"===e.type)a=o.methodName+" (native)";else{let{className:s,methodName:n,packageName:l}=e;l=ef(l,"nms.",/^net\.minecraft\.server(?:\.v[0-9R_]+)?\.(.*)$/),l=ef(l,"nm.",/^net\.minecraft(?:\.v[0-9R_]+)?\.(.*)$/),l=ef(l,"obc.",/^org\.bukkit\.craftbukkit(?:\.v[0-9R_]+)?\.(.*)$/),a="".concat(l||"").concat(s,".").concat(n,"()");let c=r?(0,$.DL)(t.getTime()):"".concat(t.getTime(),"ms");i="".concat(o.className,".").concat(o.methodName,"() - ").concat(c)}}else throw Error("unknown type: "+o.type);let l=n(t),c=[],d=1;for(let a of t.getChildren().sort((e,t)=>n(t)-n(e))){let[t,i]=e(a,s,n,r);d=Math.max(d,i+1),c.push(t)}return[{name:a,tooltip:i,value:l,children:c},d]})(t,s,o,l),[t,s,o,l]),u=Math.min(20*d,5e3);return(0,n.jsx)("div",{className:"flame",style:{height:"".concat(u,"px")},children:(0,n.jsx)(eh.t$,{children:e=>{let{width:t}=e;return(0,n.jsx)(em.C,{data:c,height:u,width:t})}})})}function ef(e,t,s){if(!e)return e;let n=e.match(s);return n&&2===n.length&&(e=t+n[1]),e}function eg(e){let{isConnectedToSocket:t}=e;return(0,n.jsxs)(m.A,{extraClassName:c()["no-data"],children:[(0,n.jsxs)("h2",{children:[(0,n.jsx)(u.g,{icon:d.QJT})," ",(0,n.jsx)("b",{children:"No Data"})]}),t?(0,n.jsx)("p",{children:"This profile doesn't contain any data yet! The viewer will refresh shortly."}):(0,n.jsx)("p",{children:"This profile doesn't contain any data!"})]})}function ev(e){var t;let{socket:s}=e,{clientId:r,settings:a,latency:i}=s.socket;return(0,n.jsxs)(m.A,{extraClassName:c()["socket-info"],children:[(0,n.jsxs)("h2",{children:[(0,n.jsx)(u.g,{icon:d.jBL,color:"#89d753"})," ",(0,n.jsx)("b",{children:"Connected"})," via WebSocket"]}),(0,n.jsxs)("p",{children:["spark viewer is connected to the spark profiler using a socket connection. ",(0,n.jsx)("br",{}),"The statistics will update every"," ",null!=(t=null==a?void 0:a.statisticsInterval)?t:"?"," seconds, and the profiler data will update every minute."]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Latency"}),": ",null!=i?i:"?","ms",(0,n.jsx)("br",{}),(0,n.jsx)("b",{children:"Client ID"}),": ",r]})]})}let ex=(0,i.createContext)(void 0),ej=(0,i.createContext)(void 0),ew=(0,i.createContext)(void 0),ey=(0,i.createContext)(void 0),eb=(0,i.createContext)(void 0),eN=(0,i.createContext)(!1),ek=(0,i.createContext)(void 0);function eS(e){let{mappings:t,infoPoints:s,highlighted:r,searchQuery:a,labelMode:i,metadata:o,timeSelector:l,children:c}=e;return(0,n.jsx)(ex.Provider,{value:t,children:(0,n.jsx)(ej.Provider,{value:s,children:(0,n.jsx)(ew.Provider,{value:r,children:(0,n.jsx)(ey.Provider,{value:a,children:(0,n.jsx)(eN.Provider,{value:i,children:(0,n.jsx)(eb.Provider,{value:o,children:(0,n.jsx)(ek.Provider,{value:l,children:c})})})})})})})}class eC{addNode(e){let t=eC.keyForNode(e),s=this.map.get(t);void 0===s&&(s=[],this.map.set(t,s)),s.push(e)}build(){return Array.from(this.map.values())}static keyForNode(e){return"".concat(e.className,"\0").concat(e.methodName,"\0").concat(e.methodDesc)}constructor(){this.map=new Map}}class eT{getId(){return 1==this.nodes.length?this.nodes[0].id:this.nodes.map(e=>e.id)}getDetails(){let e=this.nodes[0];return(0,N.fX)(e)?{type:"thread",name:e.name}:{type:"stackTrace",className:e.className,methodName:e.methodName,parentLineNumber:e.parentLineNumber,lineNumber:e.lineNumber,methodDesc:e.methodDesc}}getTime(){return this.nodes.reduce((e,t)=>e+t.time,0)}getTimes(){if(1===this.nodes.length)return this.nodes[0].times;let e=this.nodes[0].times.length;return this.nodes.reduce((t,s)=>{for(let n=0;n<e;n++)t[n]=t[n]+s.times[n];return t},Array(e).fill(0))}getChildren(){if(1==this.nodes.length)return this.nodes[0].children.map(e=>new eT(this.data,[e]));let e=new eC;return this.nodes.flatMap(e=>e.children).forEach(t=>e.addNode(t)),e.build().map(e=>new eT(this.data,e))}getParents(){let e=new eC,t=[];return this.nodes.map(e=>this.data.bottomUp.getParent(e.id)).filter(e=>void 0!==e).map(e=>this.data.nodes.getNode(e)).forEach(s=>{(0,N.fX)(s)?t.push(s):e.addNode(s)}),[...t.map(e=>new Z(this.data,e)),...e.build().map(e=>new eT(this.data,e))]}getSource(){for(let e of this.nodes){let t=this.data.sources.getSource(e.id);if(t)return t}}constructor(e,t){if(this.data=e,this.nodes=t,0===t.length)throw Error("nodes length is 0")}}class e_{getId(){return this.node.id}getDetails(){return{type:"thread",name:this.node.name}}getTime(){return this.node.threadTime}getTimes(){return this.node.threadTimes}getChildren(){return void 0===this.children&&(this.children=this.node.children.map(e=>new eT(this.data,e.map(e=>this.data.nodes.getNode(e))))),this.children}getParents(){return[]}getSource(){return this.data.sources.getSource(this.node.id)}getSourceTime(){return this.node.sourceTime}constructor(e,t){this.data=e,this.node=t}}class eI{getId(){return this.node.id}getDetails(){return{type:"thread",name:this.node.name}}getTime(){return this.node.time}getTimes(){return this.node.times}getChildren(){return void 0===this.children&&(this.children=this.node.children.map(e=>new eT(this.data,e.map(e=>this.data.nodes.getNode(e))))),this.children}getParents(){return[]}getSource(){return this.data.sources.getSource(this.node.id)}constructor(e,t){this.data=e,this.node=t}}function eM(e){let{value:t,setValue:s,title:r,labelTrue:a,labelFalse:i,children:o}=e;return(0,n.jsxs)("div",{className:"button",children:[(0,n.jsxs)("button",{onClick:function(){s(!t)},children:[(0,n.jsx)(u.g,{icon:d.Ubc})," ",(0,n.jsxs)("span",{children:[r,":"]})," ",t?a:i]}),t?o[0]:o[1]]})}function eA(e){let{bottomUp:t,setBottomUp:s}=e,{t:r}=(0,el.o)();return(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.display"),labelTrue:r("viewer.sampler.displayMode.bottomUp"),labelFalse:r("viewer.sampler.displayMode.topDown"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.displayMode.bottomUpDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.displayMode.topDownDescription")})]})}function eE(e){let{labelMode:t,setLabelMode:s}=e,{t:r}=(0,el.o)(),a=(0,i.useContext)(eb);return a.numberOfTicks?a.samplerMode===M.gi.ALLOCATION?(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.label"),labelTrue:r("viewer.sampler.buttons.bytesPerSecond"),labelFalse:r("viewer.sampler.labelMode.percentage"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.buttons.bytesPerSecondDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.buttons.percentageAllocationDescription")})]}):(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.label"),labelTrue:r("viewer.sampler.buttons.timePerTick"),labelFalse:r("viewer.sampler.labelMode.percentage"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.buttons.timePerTickDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.labelMode.percentageDescription")})]}):null}function eF(e){let{selfTimeMode:t,setSelfTimeMode:s}=e,{t:r}=(0,el.o)();return(0,i.useContext)(eb).samplerMode===M.gi.ALLOCATION?(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.sortMode"),labelTrue:r("viewer.sampler.buttons.selfBytesAllocated"),labelFalse:r("viewer.sampler.buttons.totalBytesAllocated"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.buttons.selfBytesDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.buttons.totalBytesDescription")})]}):(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.sortMode"),labelTrue:r("viewer.sampler.sortMode.selfTime"),labelFalse:r("viewer.sampler.sortMode.totalTime"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.sortMode.selfTimeDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.sortMode.totalTimeDescription")})]})}function eL(e){let{children:t}=e,{t:s}=(0,el.o)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{children:s("viewer.flatView.title")}),(0,n.jsxs)("div",{className:"header-controls",children:[(0,n.jsx)("p",{children:s("viewer.flatView.description")}),t]})]})}function eP(e){let{onClick:t}=e,{t:s}=(0,el.o)();return(0,n.jsx)("div",{className:"button top-functions-button",children:(0,n.jsxs)("button",{onClick:t,"aria-label":s("viewer.sampler.topFunctions.button"),children:[(0,n.jsx)(u.g,{icon:d.Tsj})," ",(0,n.jsx)("span",{children:s("viewer.sampler.topFunctions.button")})]})})}var eD=s(5278),eV=s.n(eD);function eR(e){let{topFunctions:t,isOpen:s,onClose:r,onFunctionClick:a,data:o}=e,{t:l}=(0,el.o)(),c=(0,i.useContext)(ew),m=(0,i.useContext)(eb),[h,p]=(0,i.useState)({}),f=(0,i.useMemo)(()=>new Map,[]),g=(0,i.useCallback)(e=>{if(!o)return e;let t=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId()),s=o.threads.map(e=>new Z(o,e)),n=new Set,r=[...s];for(;r.length;){let e=r.shift(),s=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());if(!n.has(s)){if(n.add(s),s===t)return e;for(let t of e.getChildren())r.push(t);for(let t of e.getParents())r.push(t)}}return e},[o]);(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=new Map,n=new Set,r=[e];for(;r.length;){let e=r.shift(),t=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());if(n.has(t))continue;n.add(t);let a=e.getSource();if(a){let t=s.get(a)||0;s.set(a,t+("function"==typeof e.getTime?e.getTime():0))}for(let t of e.getParents()){let e=Array.isArray(t.getId())?t.getId().join("-"):String(t.getId());n.has(e)||r.push(t)}for(let t of e.getChildren()){let e=Array.isArray(t.getId())?t.getId().join("-"):String(t.getId());n.has(e)||r.push(t)}}let a=e.getSource&&e.getSource();a&&s.delete(a);let i=Array.from(s.entries()).sort((e,t)=>t[1]-e[1]).slice(0,t).map(e=>{let[t,s]=e;return{key:t,total:s}}),o=i.reduce((e,t)=>e+t.total,0);return i.map(e=>{var t;return{key:e.key,total:e.total,percent:o>0?e.total/o:0,md:null==(t=m.sources)?void 0:t[e.key]}})},[m]);let[x,j]=(0,i.useState)(()=>t.map(()=>[])),w=(0,i.useCallback)(e=>{var t,s,n;let r=e.getSource&&e.getSource();if(r)return[{key:r,total:"function"==typeof e.getTime?e.getTime():0,percent:1,md:null==(t=m.sources)?void 0:t[r]}];for(let t of e.getChildren()){let e=t.getSource&&t.getSource();if(e)return[{key:e,total:"function"==typeof t.getTime?t.getTime():0,percent:1,md:null==(s=m.sources)?void 0:s[e]}]}for(let t of e.getParents()){let e=t.getSource&&t.getSource();if(e)return[{key:e,total:"function"==typeof t.getTime?t.getTime():0,percent:1,md:null==(n=m.sources)?void 0:n[e]}]}return[]},[m]);return((0,i.useEffect)(()=>{if(!s)return;j(t.map(e=>w(g(e.node))));let e=setTimeout(()=>{let e=t.map(()=>[]);for(let s=0;s<t.length;s++){let n=g(t[s].node),r=Array.isArray(n.getId())?n.getId().join("-"):String(n.getId());if(f.has(r)){e[s]=f.get(r);continue}let a=new Map,i=new Set,o=[n],l=0;for(;o.length&&l<2e3;){let e=o.shift();l++;let t=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());if(i.has(t))continue;i.add(t);let s=e.getSource&&e.getSource();for(let t of(s&&a.set(s,(a.get(s)||0)+("function"==typeof e.getTime?e.getTime():0)),e.getParents()))o.push(t);for(let t of e.getChildren())o.push(t)}let c=n.getSource&&n.getSource();c&&a.delete(c);let d=Array.from(a.entries()).sort((e,t)=>t[1]-e[1]).slice(0,8).map(e=>{let[t,s]=e;return{key:t,total:s}}),u=d.reduce((e,t)=>e+t.total,0),h=d.map(e=>{var t;return{key:e.key,total:e.total,percent:u>0?e.total/u:0,md:null==(t=m.sources)?void 0:t[e.key]}});e[s]=h,f.set(r,h)}j(e)},10);return()=>clearTimeout(e)},[s,t,g,w]),s)?(0,n.jsx)("div",{className:eV().backdrop,onClick:function(e){e.target===e.currentTarget&&r()},children:(0,n.jsxs)("div",{className:eV().modal,children:[(0,n.jsxs)("div",{className:eV().header,children:[(0,n.jsx)("h2",{children:l("viewer.sampler.topFunctions.title")}),(0,n.jsx)("button",{className:eV().closeButton,onClick:r,"aria-label":"Close",children:(0,n.jsx)(u.g,{icon:d.GRI})})]}),(0,n.jsx)("div",{className:eV().content,children:(0,n.jsx)("div",{className:eV().functionList,children:t.map((e,t)=>{var s;return(0,n.jsxs)("div",{className:eV().functionItem,onClick:()=>{c.replaceSilently?c.replaceSilently(e.node):c.replace(e.node),a(e),r()},children:[(0,n.jsx)("div",{className:eV().rank,children:t+1}),(0,n.jsxs)("div",{className:eV().functionInfo,children:[(0,n.jsx)("div",{className:eV().functionName,children:e.name}),(()=>{var s,r;let a=x[t]&&x[t][0],i=null!=(r=null==a?void 0:a.key)?r:e.node.getSource(),o=i&&m?null==(s=m.sources)?void 0:s[i]:void 0;return o?(0,n.jsxs)("div",{className:eV().functionMeta,children:[o.name,o.version?" "+o.version:""]}):i?(0,n.jsx)("div",{className:eV().functionMeta,children:i}):null})(),(0,n.jsx)("div",{className:eV().functionStats,children:(()=>{let t=e.percentage,s=eV().pctLow;return t>90?s=eV().pctHigh:t>70&&(s=eV().pctMed),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"".concat(eV().time," ").concat(s),children:[e.selfTime.toFixed(0)," ms"]}),(0,n.jsxs)("span",{className:"".concat(eV().percentage," ").concat(s),children:[e.percentage.toFixed(2),"%"]})]})})()}),(0,n.jsxs)("div",{className:eV().sourceList,onClick:e=>e.stopPropagation(),children:[x[t]&&x[t].length>0&&(0,n.jsxs)("div",{className:eV().sourceItem,children:[(0,n.jsx)("div",{className:eV().sourceName,children:(null==(s=x[t][0].md)?void 0:s.name)?"".concat(x[t][0].md.name).concat(x[t][0].md.version?" "+x[t][0].md.version:""):x[t][0].key}),(0,n.jsxs)("div",{className:eV().sourceStats,children:[(0,$.fU)(x[t][0].total),"ms • ",(0,$.XL)(x[t][0].percent)]})]}),x[t]&&x[t].length>1&&(0,n.jsx)("div",{className:eV().expandRow,children:(0,n.jsx)("button",{className:eV().expandButton,onClick:()=>p(e=>(0,S._)((0,v._)({},e),{[t]:!e[t]})),"aria-expanded":!!h[t],children:h[t]?l("viewer.sampler.topFunctions.collapse"):"".concat(l("viewer.sampler.topFunctions.more")," (+").concat(x[t].length-1,")")})}),h[t]&&x[t].slice(1).map((e,t)=>{var s;return(0,n.jsxs)("div",{className:eV().sourceItem,children:[(0,n.jsx)("div",{className:eV().sourceName,children:(null==(s=e.md)?void 0:s.name)?"".concat(e.md.name).concat(e.md.version?" "+e.md.version:""):e.key}),(0,n.jsxs)("div",{className:eV().sourceStats,children:[(0,$.fU)(e.total),"ms • ",(0,$.XL)(e.percent)]})]},t)})]})]})]},t)})})})]})}):null}function eB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=e.nodes.stackTraceNodes,n=e.threads.reduce((e,t)=>e+t.time,0);return s.filter(e=>e.time>0).map(t=>{let s=new Z(e,t),r=s.getDetails(),a=t.children.reduce((e,t)=>e+t.time,0),i=t.time-a,o="stackTrace"===r.type&&r.className&&r.methodName?"".concat(r.className,".").concat(r.methodName):"stackTrace"===r.type?r.className||r.methodName||"Unknown":r.name||"Unknown";return{node:s,time:t.time,selfTime:i,percentage:n>0?i/n*100:0,name:o,className:"stackTrace"===r.type?r.className:void 0,methodName:"stackTrace"===r.type?r.methodName:void 0}}).filter(e=>e.selfTime>0).sort((e,t)=>t.selfTime-e.selfTime).slice(0,t)}let eO=(0,i.createContext)(!1);function eK(e){let{data:t,viewData:s,setLabelMode:r}=e,a=(0,i.useContext)(eN),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)([]),g=c?null==s?void 0:s.flatSelfTime:null==s?void 0:s.flatTotalTime;return(0,n.jsxs)("div",{className:"flatview",children:[(0,n.jsxs)(eL,{children:[(0,n.jsx)(eE,{labelMode:a,setLabelMode:r}),(0,n.jsx)(eA,{bottomUp:o,setBottomUp:l}),(0,n.jsx)(eF,{selfTimeMode:c,setSelfTimeMode:d}),(0,n.jsx)(eP,{onClick:()=>{f(eB(t,20)),h(!0)}})]}),g?(0,n.jsx)("div",{className:"stack",children:(0,n.jsx)(eO.Provider,{value:o,children:g.map(e=>(0,n.jsx)(eY,{parents:[],node:new eI(t,e)},e.name))})}):(0,n.jsx)(m.A,{children:"Loading..."}),(0,n.jsx)(eR,{topFunctions:p,isOpen:u,onClose:()=>h(!1),onFunctionClick:e=>{let t=e.node.getId(),s="node-".concat(Array.isArray(t)?t.join("-"):String(t)),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById(s);t?t.scrollIntoView({behavior:"smooth",block:"center"}):e<8&&setTimeout(()=>n(e+1),100)};setTimeout(()=>n(),50)},data:t})]})}function eU(e){let{node:t,parent:s}=e;if(!s)return null;let r=t.getDetails();if("stackTrace"!==r.type||!r.parentLineNumber)return null;let a=s.getDetails();if("stackTrace"!==a.type)return null;let i="Invoked on line "+r.parentLineNumber+" of "+a.className+"."+a.methodName+"()";return(0,n.jsxs)("span",{className:"lineNumber",title:i,children:[":",r.parentLineNumber]})}function eW(e){let{details:t,mappings:s}=e;switch(t.type){case"thread":return(0,n.jsx)(eG,{details:t,mappings:s});case"stackTrace":return(0,n.jsx)(eX,{details:t,mappings:s})}}let eG=e=>{let{details:t,mappings:s}=e;return(0,n.jsx)(n.Fragment,{children:t.name})},eX=e=>{let{details:t,mappings:s}=e,r=s.resolve(t);if("native"===r.type)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"native-part",children:t.methodName}),(0,n.jsx)("span",{className:"package-part",children:" (native)"})]});let{className:a,methodName:i,packageName:o,lambda:l,remappedClass:c,remappedMethod:d}=r;return(0,n.jsxs)(n.Fragment,{children:[!!o&&(0,n.jsx)("span",{className:"package-part",children:o}),c?(0,n.jsx)("span",{className:"class-part remapped",title:t.className,children:a}):(0,n.jsx)("span",{className:"class-part",children:a}),!!l&&(0,n.jsx)("span",{className:"lambda-part",children:l}),".",d?(0,n.jsx)("span",{className:"method-part remapped",title:t.methodName,children:i}):(0,n.jsx)("span",{className:"method-part",children:i}),"()"]})};function eq(e){var t,s;let r,{children:a,time:o,selfTime:l,threadTime:c,importance:d,significance:u,source:m,infoPoint:h,isSourceRoot:p}=e,f=(0,i.useContext)(eb);p&&(o=c-l);let g=(0,i.useContext)(eN),v=(0,i.useContext)(ek);function x(e){return f.samplerMode===M.gi.ALLOCATION?(0,$.DL)(e):(0,$.fU)(e)+"ms"}g&&(r=f.samplerMode===M.gi.ALLOCATION?o/((v.supported?v.getMillisInRange():f.endTime-f.startTime)/1e3):o/Math.max(v.supported?v.getTicksInRange():(null==(s=f.dataAggregator)?void 0:s.numberOfIncludedTicks)||f.numberOfTicks,1));let j=m?null==(t=f.sources)?void 0:t[m]:void 0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"name",children:[a,(0,n.jsx)("span",{className:"percent",style:{filter:"hue-rotate(-".concat(25*d,"deg)")+" "+"saturate(".concat(1+13*d,")"),opacity:u<.01?.5+100*u/2:void 0},children:g?"".concat(x(r)):(0,$.XL)(o/c)}),h,(0,n.jsxs)("span",{className:"time",children:[x(o),Math.floor(l)>0&&!p&&(0,n.jsxs)(n.Fragment,{children:[" ","(self: ",x(l)," -"," ",(0,$.XL)(l/c),")"]}),!!m&&(0,n.jsxs)(n.Fragment,{children:[" (",m,")"]})]})]}),j&&(0,n.jsx)("span",{className:"moduleLabel",children:j.name}),(0,n.jsx)("div",{className:"bar",children:(0,n.jsx)("span",{className:"inner",style:{width:(0,$.XL)(o/c)}})})]})}function ez(e){let{node:t,mappings:s,lookup:r}=e;if(!r.enabled||!r.methods||!r.threads)return null;let a=t.getDetails();if("stackTrace"===a.type){let e=s.resolve(a);if("native"===e.type)return null;let{className:t,methodName:i,packageName:o}=e,l=r.methods.lookup("".concat(o).concat(t,".").concat(i,"()"));return(0,n.jsx)(eQ,{desc:l})}if("thread"===a.type){let e=r.threads.lookup(a.name);return(0,n.jsx)(eQ,{desc:e})}return null}s(3120);let eQ=e=>{let{desc:t}=e;return t.result?(0,n.jsx)("span",{className:"infopoint","data-tooltip-id":"infopoint-tooltip","data-tooltip-html":t.result,children:(0,n.jsx)(u.g,{icon:d.iW_})}):null},e$=i.memo(e=>{let t,s,{parents:r,node:a,forcedTime:l}=e,c=(0,i.useContext)(ex),d=(0,i.useContext)(ej),u=(0,i.useContext)(ew),m=(0,i.useContext)(ey),h=(0,i.useContext)(ek),p=(0,i.useContext)(eO)&&0!==r.length,f=0!==r.length?r[r.length-1]:null,[g,v]=(0,i.useState)(()=>!!u.check(a)||null!=f&&(p?f.getParents():f.getChildren()).filter(e=>m.matches(e)).length<=1);(0,i.useEffect)(()=>{u.check(a)&&v(!0)},[u,a]);let x=(0,i.useMemo)(()=>r.concat([a]),[r,a]),{show:j}=(0,o.EF)({id:"sampler-cm"});if(!m.matches(a))return null;let w=en()({node:!0,collapsed:!g,parent:0===r.length}),y=en()({"node-info":!0,bookmarked:u.has(a)}),b=h.getTime(a),N=0===r.length?b:h.getTime(r[0]),k=p&&l||b,S=p?0:k-a.getChildren().reduce((e,t)=>e+h.getTime(t),0);if(0===k&&0===b)return null;if(f){let e=f instanceof e_&&f.getSourceTime()||h.getTime(f);t=l?.5:b<e?b/e:e/b,s=e!==b?t:0}else t=1,s=0;let C=a.getId(),T="node-".concat(Array.isArray(C)?C.join("-"):String(C));return(0,n.jsxs)("li",{id:T,className:w,children:[(0,n.jsx)("div",{className:y,onClick:function(e){e.altKey?u.toggle(a):v(!g)},onContextMenu:function(e){e.preventDefault(),j({event:e,props:{node:a}})},children:(0,n.jsxs)(eq,{time:k,selfTime:S,threadTime:N,importance:s,significance:t,source:a.getSource(),infoPoint:(0,n.jsx)(ez,{node:a,mappings:c,lookup:d}),isSourceRoot:a instanceof e_,children:[(0,n.jsx)(eW,{details:a.getDetails(),mappings:c}),(0,n.jsx)(eU,{node:a,parent:f})]})}),g&&(0,n.jsx)("ul",{className:"children",children:(p?a.getParents():a.getChildren()).sort((e,t)=>h.getTime(t)-h.getTime(e)).map((e,t)=>(0,n.jsx)(e$,{node:e,forcedTime:p&&(l||2===r.length)?k:void 0,parents:x},t))})]})});e$.displayName="BaseNode";let eY=e$;function eH(e){let{children:t}=e,{t:s}=(0,el.o)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{children:s("viewer.allView.title")}),(0,n.jsxs)("div",{className:"header-controls",children:[(0,n.jsx)("p",{children:s("viewer.allView.description")}),t]})]})}function eJ(e){let{data:t,setLabelMode:s}=e,r=(0,i.useContext)(eN),a=(0,i.useContext)(ew),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)([]),u=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{if(!u.current&&(u.current=!0,a.isEmpty())){let e=eB(t,1);if(e.length>0){let t=e[0];a.replace(t.node);let s=t.node.getId(),n="node-".concat(Array.isArray(s)?s.join("-"):String(s)),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById(n);t?t.scrollIntoView({behavior:"smooth",block:"center"}):e<20&&setTimeout(()=>r(e+1),100)};setTimeout(()=>r(),200)}}},[t,a]),(0,n.jsxs)("div",{className:"allview",children:[(0,n.jsxs)(eH,{children:[(0,n.jsx)(eE,{labelMode:r,setLabelMode:s}),(0,n.jsx)(eP,{onClick:function(){d(eB(t,20)),l(!0)}})]}),(0,n.jsx)("div",{className:"stack",children:t.threads.map(e=>(0,n.jsx)(eY,{parents:[],node:new Z(t,e)},e.name))}),(0,n.jsx)(eR,{topFunctions:c,isOpen:o,onClose:()=>l(!1),onFunctionClick:function(e){let t=e.node.getId(),s="node-".concat(Array.isArray(t)?t.join("-"):String(t)),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById(s);t?t.scrollIntoView({behavior:"smooth",block:"center"}):e<8&&setTimeout(()=>n(e+1),100)};setTimeout(()=>n(),50)},data:t})]})}function eZ(e){let{merged:t,setMerged:s}=e,{t:r}=(0,el.o)();return(0,n.jsxs)(eM,{value:t,setValue:s,title:r("viewer.sampler.buttons.mergeMode"),labelTrue:r("viewer.sampler.buttons.merge"),labelFalse:r("viewer.sampler.buttons.separate"),children:[(0,n.jsx)("p",{children:r("viewer.sampler.buttons.mergeDescription")}),(0,n.jsx)("p",{children:r("viewer.sampler.buttons.separateDescription")})]})}function e0(e){var t;let{children:s}=e,r=(0,i.useContext)(eb),{t:a}=(0,el.o)(),o=["Fabric","Forge","NeoForge"].includes(null==(t=r.platform)?void 0:t.name);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{children:a(o?"viewer.sourcesView.modsTitle":"viewer.sourcesView.pluginsTitle")}),(0,n.jsxs)("div",{className:"header-controls",children:[(0,n.jsx)("p",{children:a(o?"viewer.sourcesView.modsDescription":"viewer.sourcesView.pluginsDescription")}),s]})]})}function e1(e){let{data:t,viewData:s,setLabelMode:r}=e,a=(0,i.useContext)(eN),[o,l]=(0,i.useState)(!0),c=o?null==s?void 0:s.sourcesMerged:null==s?void 0:s.sourcesSeparate,[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)([]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"sourceview",children:[(0,n.jsxs)(e0,{children:[(0,n.jsx)(eE,{labelMode:a,setLabelMode:r}),(0,n.jsx)(eZ,{merged:o,setMerged:l}),(0,n.jsx)(eP,{onClick:()=>{p(eB(t,20)),u(!0)}})]}),c?(0,n.jsxs)(n.Fragment,{children:[c.map(e=>(0,n.jsx)(e3,{data:t,viewData:e},e.source)),(0,n.jsx)(e5,{alreadyShown:c.map(e=>e.source)})]}):(0,n.jsx)(m.A,{children:"Loading..."})]}),(0,n.jsx)(eR,{topFunctions:h,isOpen:d,onClose:()=>u(!1),onFunctionClick:e=>{let t=e.node.getId(),s="node-".concat(Array.isArray(t)?t.join("-"):String(t)),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById(s);t?t.scrollIntoView({behavior:"smooth",block:"center"}):e<8&&setTimeout(()=>n(e+1),100)};setTimeout(()=>n(),50)},data:t})]})}let e2=e=>e.startsWith("v")?e:"v"+e,e3=e=>{let{data:t,viewData:s}=e,{source:r,threads:a}=s,o=(0,i.useContext)(eb).sources[r.toLowerCase()];return(0,n.jsxs)("div",{className:"stack",children:[(0,n.jsxs)("h2",{children:[r," ",o&&(0,n.jsxs)("span",{className:"version",children:["(",e2(o.version),")"]})]}),a.map(e=>(0,n.jsx)(eY,{parents:[],node:new e_(t,e)},e.name))]})},e5=e=>{var t;let{alreadyShown:s}=e,r=(0,i.useContext)(eb);if(!r.sources)return null;let a=Object.values(r.sources).filter(e=>!s.includes(e.name)).filter(e=>!e.builtIn);if(!a.length)return null;let o=["Fabric","Forge","NeoForge"].includes(null==r||null==(t=r.platform)?void 0:t.name)?"mods":"plugins";return(0,n.jsxs)("div",{className:"other-sources",children:[(0,n.jsx)("h2",{children:"Other"}),(0,n.jsxs)("p",{children:["The following other ",o," are installed, but didn't show up in this profile. Yay!"]}),(0,n.jsx)("ul",{children:a.map(e=>{let{name:t,version:s}=e;return(0,n.jsxs)("li",{children:[t," ",(0,n.jsxs)("span",{children:["(",e2(s),")"]})]},t)})})]})};var e8=s(9893);async function e7(){let e=await fetch("https://spark-infopoints.lucko.me/points.json");return await e.json()}class e4{lookup(e){let t=this.map.get(e);if(t)return t;for(let[t,s]of this.regexMap)if(t.test(e)){let t={result:s};return this.map.set(e,t),t}return this.map.set(e,e4.EMPTY_RESULT),e4.EMPTY_RESULT}constructor(e,t){for(let s of(this.map=new Map,this.regexMap=new Map,e.points))for(let e of t(s)){let t=e4.REGEX_KEY.exec(e);if(t){let e=new RegExp(t[1]);this.regexMap.set(e,s.description)}else this.map.set(e,{result:s.description})}}}e4.EMPTY_RESULT={},e4.REGEX_KEY=/\/(.+)\//;var e6=s(2127);let e9="".concat(e6._.NEXT_PUBLIC_SPARK_MAPPINGS_URL,"/dist/");async function te(){let e=await fetch(e9+"mappings.json");return await e.json()}async function tt(e,t,s){let n=await fetch(e9+e+"/"+t+".wasm");return s(new Uint8Array(await n.arrayBuffer()))}class ts{map(e){return{}}constructor(){}}ts.INSTANCE=new ts;class tn{map(e){let t;if(!e.className.startsWith(this.expectedPackage))return{};let s=e.className.substring(this.expectedPackage.length);if(t=this.nmsVersion?this.bukkitMappings.classes[s]:this.bukkitMappings.classes["net.minecraft."+s],"MinecraftServer"===s&&(t=this.bukkitMappings.classes["net.minecraft.server.MinecraftServer"]),!t)return{};let n=t.obfuscated,r=this.outputMappings.classes[n];if(!r||t.methods.some(t=>t.mapped===e.methodName))return{};let a=r.methods.filter(t=>t.obfuscated===e.methodName);if(!a)return{};if(1===a.length)return{methodName:a[0].mapped};if(!e.methodDesc)return{};for(let t of a){let s=t.description.replace(/L([^;]+);/g,e=>{let t=e.substring(1,e.length-1),s=this.classesObfuscated[t];if(s)if(this.nmsVersion)return"Lnet/minecraft/server/"+this.nmsVersion+"/"+s.mapped+";";else return"L"+s.mapped.replaceAll(".","/")+";";return e});if(e.methodDesc===s)return{methodName:t.mapped}}return{}}constructor(e,t,s){for(let n of(this.outputMappings=e,this.bukkitMappings=t,this.nmsVersion=s,s?this.expectedPackage="net.minecraft.server."+s+".":this.expectedPackage="net.minecraft.",this.classesObfuscated={},Object.values(t.classes)))this.classesObfuscated[n.obfuscated]=n}}class tr{map(e){return{methodName:this.mcpMappings.methods[e.methodName]}}constructor(e){this.mcpMappings=e}}class ta{map(e){let t,s=e.className.match(/^(.+)(\$\$Lambda.+)$/),n=s?this.mojangMappings.classes[s[1]]:this.mojangMappings.classes[e.className];if(!n)return{};let r=n.mapped+(s?s[2]:""),a=n.methods.filter(t=>t.obfuscated===e.methodName);if(1===a.length)t=a[0].mapped;else if(a.length>1){let s=a.find(t=>t.description===e.methodDesc);s&&(t=s.mapped)}return{className:r,methodName:t}}constructor(e){this.mojangMappings=e}}class ti{map(e){let t=this.yarnMappings.methods[e.methodName],s=e.className.match(/^(.+)(\$\$Lambda.+)$/);return{className:s?(this.yarnMappings.classes[s[1]]||s[1])+s[2]:this.yarnMappings.classes[e.className],methodName:t}}constructor(e){this.yarnMappings=e}}async function to(e,t,s){if("auto"===e){let n=function(e,t){if(!e.auto||!t||!t.platform||!t.platform.name||!t.platform.minecraftVersion||t.platform.type===M.KI.PROXY)return null;let s=t.platform.minecraftVersion.match(/(\d+\.\d+) Release Candidate \d+/);s&&(t.platform.minecraftVersion=s[1]);let n=t.platform.name.toLowerCase();"paper"===n?n="bukkit":t.platform.type===M.KI.APPLICATION&&(n="vanilla");let r=n+"/"+t.platform.minecraftVersion;return e.auto[r]}(t,s);if(!n)return ts.INSTANCE;e=n}if(e.startsWith("bukkit-mojang")){let s=e.substring(14),n=t.types["bukkit-mojang"].versions[s].nmsVersion,r=t.types["bukkit-mojang"].versions[s].mojangClassNamesAtRuntime;if(!n&&!r)throw Error("No NMS version specified!");let[a,i]=await Promise.all([tt(s,"mojang",e=>M.cx.fromBinary(e)),tt(s,"bukkit",e=>M.oj.fromBinary(e))]);return new tn(a,i,n)}if(e.startsWith("bukkit")){let s=e.substring(7),n=t.types.bukkit.versions[s].nmsVersion,[r,a]=await Promise.all([tt(s,"mcp",e=>M.Qx.fromBinary(e)),tt(s,"bukkit",e=>M.oj.fromBinary(e))]);return new tn(r,a,n)}if(e.startsWith("mcp")){let t=e.substring(4);return new tr(await tt(t,"mcp",e=>M.Qx.fromBinary(e)))}if(e.startsWith("yarn")){let t=e.substring(5);return new ti(await tt(t,"yarn",e=>M.CO.fromBinary(e)))}{if(!e.startsWith("vanilla"))return ts.INSTANCE;let t=e.substring(8);return new ta(await tt(t,"mojang",e=>M.cx.fromBinary(e)))}}class tl{resolve(e){let t,s;if("native"===e.className)return{type:"native"};let{className:n,methodName:r}=this.mappingFunction.map(e)||{},a=!!n,i=!!r;n=n||e.className,r=r||e.methodName;let o=n.indexOf("$$Lambda");return -1!==o&&(t=n.substring(o),n=n.substring(0,o)),-1!==(o=n.lastIndexOf("."))&&(s=n.substring(0,o+1),n=n.substring(o+1)),{type:"normal",className:n,methodName:r,packageName:s,lambda:t,remappedClass:a,remappedMethod:i}}constructor(e){this.mappingFunction=e}}var tc=s(1528),td=s.n(tc);function tu(e){let{value:t,toggle:s}=e;return(0,n.jsxs)("label",{className:td().switch,children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:()=>s()}),(0,n.jsx)("span",{className:td().slider})]})}function tm(e){let t,{mappingsMetadata:s,mappings:r,setMappings:a}=e,i=[{id:"none",label:"None",options:[{id:"auto",label:"Auto Detect"},{id:"none",label:"No Mappings"}]}];for(t in s.types){let e=s.types[t],n=[];for(let s of Object.keys(e.versions)){let r=e.versions[s],a=e.format.replace("%s",r.name);n.push({id:t+"-"+s,label:a})}i.push({id:t,label:e.name,options:n})}return(0,n.jsx)("span",{className:"dropdown",id:"mappings-selector",children:(0,n.jsx)("select",{title:"mappings",value:r,onChange:e=>a(e.target.value),children:i.map(e=>(0,n.jsx)(th,{group:e},e.id))})})}let th=e=>{let{group:t}=e;return(0,n.jsx)("optgroup",{label:t.label,children:t.options.map(e=>(0,n.jsx)(tp,{option:e},e.id))})},tp=e=>{let{option:t}=e;return(0,n.jsx)("option",{value:t.id,children:t.label})};function tf(e){let{mappingsMetadata:t,mappings:s,setMappings:r,infoPoints:a,toggleInfoPoints:i}=e;return(0,n.jsxs)(m.A,{extraClassName:c()["settings-menu"],children:[t&&(0,n.jsx)(tg,{name:"Mappings",desc:"Select which deobfuscation mappings the viewer should use when displaying profiler frames.",children:(0,n.jsx)(tm,{mappingsMetadata:t,mappings:s,setMappings:r})}),(0,n.jsx)(tg,{name:"Info Points",desc:"Select whether info points should be shown.",children:(0,n.jsx)(tu,{value:a,toggle:i})})]})}let tg=e=>{let{name:t,desc:s,children:r}=e;return(0,n.jsxs)("div",{className:"setting",children:[(0,n.jsxs)("div",{className:"setting-control",children:[(0,n.jsx)(u.g,{icon:d._$s})," ",(0,n.jsxs)("span",{children:[t,":"]})," ",r]}),(0,n.jsx)("p",{children:s})]})};var tv=s(6167),tx=s.n(tv);function tj(e){let{isOpen:t,onClose:s,node:r,metadata:a,highlighted:o}=e,{t:l}=(0,el.o)(),c=(0,i.useMemo)(()=>null==r?void 0:r.getSource(),[r]),m=(0,i.useMemo)(()=>{try{var e;if(!c||!a)return;return null==(e=a.sources)?void 0:e[c]}catch(e){return}},[c,a]),h=(0,i.useMemo)(()=>{if(!r||!a)return[];let e=new Map,t=new Set,s=[r];for(;s.length;){let n=s.shift(),r=Array.isArray(n.getId())?n.getId().join("-"):String(n.getId());if(t.has(r))continue;t.add(r);let a=n.getSource();if(a){let t=e.get(a)||0;e.set(a,t+("function"==typeof n.getTime?n.getTime():0))}for(let e of n.getParents()){let n=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());t.has(n)||s.push(e)}for(let e of n.getChildren()){let n=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());t.has(n)||s.push(e)}}c&&e.delete(c);let n=Array.from(e.entries()).sort((e,t)=>t[1]-e[1]).slice(0,8).map(e=>{let[t,s]=e;return{key:t,total:s}}),i=n.reduce((e,t)=>e+t.total,0);return n.map(e=>(0,S._)((0,v._)({},e),{percent:i>0?e.total/i:0}))},[r,a,c]);return t?(0,n.jsx)("div",{className:tx().backdrop,onClick:function(e){e.target===e.currentTarget&&s()},children:(0,n.jsxs)("div",{className:tx().modal,role:"dialog","aria-modal":!0,children:[(0,n.jsxs)("div",{className:tx().header,children:[(0,n.jsx)("h2",{children:l("viewer.sourceModal.title")}),(0,n.jsx)("button",{className:tx().closeButton,onClick:s,"aria-label":l("common.close"),children:(0,n.jsx)(u.g,{icon:d.GRI})})]}),(0,n.jsxs)("div",{className:tx().content,children:[!c&&(0,n.jsx)("div",{className:tx().empty,children:l("viewer.sourceModal.noSource")}),c&&(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.sourceKey")}),(0,n.jsx)("div",{className:"value",children:c})]}),m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.name")}),(0,n.jsx)("div",{className:"value",children:m.name||"-"})]}),(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.version")}),(0,n.jsx)("div",{className:"value",children:m.version||"-"})]}),(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.author")}),(0,n.jsx)("div",{className:"value",children:m.author||"-"})]}),m.description&&(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.description")}),(0,n.jsx)("div",{className:"value",children:m.description})]})]}):c?(0,n.jsx)("div",{className:tx().empty,children:l("viewer.sourceModal.notFound")}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:tx().field,children:[(0,n.jsx)("div",{className:"label",children:l("viewer.sourceModal.suggestionsTitle")}),0===h.length?(0,n.jsx)("div",{className:"value",children:l("viewer.sourceModal.suggestionsNone")}):(0,n.jsx)("div",{className:"value",children:(0,n.jsx)("ul",{children:h.map((e,t)=>{var i;let l=null==(i=a.sources)?void 0:i[e.key];return(0,n.jsxs)("li",{onClick:()=>(function(e,t){let n=function(e){if(!r)return;let t=new Set,s=[r];for(;s.length;){let n=s.shift(),r=Array.isArray(n.getId())?n.getId().join("-"):String(n.getId());if(!t.has(r)){if(t.add(r),n.getSource()===e)return n;for(let e of n.getParents()){let n=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());t.has(n)||s.push(e)}for(let e of n.getChildren()){let n=Array.isArray(e.getId())?e.getId().join("-"):String(e.getId());t.has(n)||s.push(e)}}}}(e);if(!n)return;try{t&&"function"==typeof t.replaceSilently?t.replaceSilently(n):null==t||t.replace(n)}catch(e){}let a=n.getId(),i="node-".concat(Array.isArray(a)?a.join("-"):String(a));setTimeout(()=>{let e=document.getElementById(i);e&&e.scrollIntoView({behavior:"smooth",block:"center"})},120),s()})(e.key,o),style:{cursor:"pointer"},children:[(0,n.jsx)("span",{children:(null==l?void 0:l.name)?"".concat(l.name).concat(l.version?" "+l.version:""):e.key}),(0,n.jsxs)("span",{style:{float:"right",color:"#9f9f9f"},children:[(0,$.fU)(e.total),"ms • ",(0,$.XL)(e.percent)]})]},t)})})})]})})]})]})}):null}let tw=a()(()=>Promise.all([s.e(628),s.e(274)]).then(s.bind(s,4274)),{loadableGenerated:{webpack:()=>[4274]}});function ty(e){var t;let{data:s,fetchUpdatedData:r,metadata:a,setMetadata:l,exportCallback:d}=e,u=function(e){let[t,s]=(0,i.useState)(""),n=(0,i.useMemo)(()=>t?new k(e).resolveSearchQuery(t):null,[e,t]);return{value:t,setValue:s,matches:(0,i.useCallback)(e=>{if(null==n)return!0;let t=e.getId();return Array.isArray(t)?t.some(e=>n.has(e)):n.has(t)},[n])}}(s),m=function(){let e=(0,x.useRouter)(),t=(0,i.useRef)(!1),s=(0,i.useRef)(!1),[n,r]=(0,i.useState)(()=>{let t=new Set,s=e.query.hl;return s&&s.split(",").forEach(e=>t.add(parseInt(e))),t});(0,i.useEffect)(()=>{let s=()=>{t.current=!0},n=()=>{t.current=!1};return e.events.on("routeChangeStart",s),e.events.on("routeChangeComplete",n),e.events.on("routeChangeError",n),()=>{e.events.off("routeChangeStart",s),e.events.off("routeChangeComplete",n),e.events.off("routeChangeError",n)}},[e.events]),(0,i.useEffect)(()=>{let r=Array.from(n).join(",");if(!r&&!e.query.hl||r===e.query.hl)return;let a=e.asPath,i=a.indexOf("?");if(i>=0&&(a=a.substring(0,i)),!("/[code]"===e.pathname||"/remote"===e.pathname||e.query.code)||t.current)return;if(s.current){s.current=!1;return}let o=(0,v._)({},e.query);n.size?o.hl=r:delete o.hl,e.push({pathname:e.pathname,query:o},void 0,{shallow:!0})},[n,e]);let a=(0,i.useCallback)(e=>{r(t=>{let s=new Set(t);return w(s,e.getId())?b(s,e.getId()):y(s,e.getId()),s})},[r]),o=(0,i.useCallback)(e=>{if(!n.size)return!1;if(w(n,e.getId()))return!0;for(let t of e.getChildren())if(o(t))return!0;return!1},[n]),l=(0,i.useCallback)(e=>w(n,e.getId()),[n]),c=(0,i.useCallback)(()=>r(new Set),[r]),d=(0,i.useCallback)(e=>{let t=new Set;y(t,e.getId()),r(t)},[r]);return{toggle:a,check:o,has:l,clear:c,replace:d,replaceSilently:(0,i.useCallback)(e=>{let t=new Set;y(t,e.getId()),s.current=!0,r(t)},[r]),isEmpty:(0,i.useCallback)(()=>0===n.size,[n])}}(),[j,N]=(0,i.useState)(!1),T=function(e,t){let s=(0,i.useMemo)(()=>e.length>1,[e]),[n,r]=(0,i.useState)(new Set),[a,o]=(0,i.useState)(!0),l=(0,i.useCallback)(e=>a||n.has(e),[n,a]),c=(0,i.useCallback)(t=>{let s=new Set(e.filter(t));r(s),o(e.length===s.size)},[e]),d=(0,i.useCallback)(t=>{let s=t.getTimes();return s&&!a?s.filter((t,s)=>l(e[s])).reduce((e,t)=>e+t,0):t.getTime()},[a,l,e]),u=(0,i.useCallback)(()=>{let s=0;for(let n of e)l(n)&&(s+=t[n].ticks);return s},[l,t,e]),m=(0,i.useCallback)(()=>{let s=0;for(let n of e)l(n)&&(s+=t[n].duration);return s},[l,t,e]);return{supported:s,times:e,isTimeSelected:l,setSelectedTimes:c,allTimesSelected:a,getTime:d,getTicksInRange:u,getMillisInRange:m}}(s.timeWindows,s.timeWindowStatistics),_=function(e){let[t,s]=(0,i.useState)(),[n,r]=(0,i.useState)(new tl(ts.INSTANCE)),[a,o]=(0,i.useState)("none"===(0,L.get)("spark-mappings-pref")?"none":"auto");(0,i.useEffect)(()=>{te().then(s)},[]);let l=(0,i.useCallback)(s=>{t&&e&&a!==s&&(o(s),to(s,t,e).then(e=>{r(new tl(e))}),"none"===s?(0,L.set)("spark-mappings-pref","none"):(0,L.remove)("spark-mappings-pref"))},[a,t,e]);return(0,i.useEffect)(()=>{t&&e&&"auto"===a&&to("auto",t,e).then(e=>{r(new tl(e))})},[a,t,e]),{requestMappings:l,mappingsMetadata:t,mappingsResolver:n,mappingsType:a}}(a),I=function(){let[e,t,s]=(0,g.A)("prefInfoPoints",!0),[n,r]=(0,i.useState)(),[a,o]=(0,i.useState)();return(0,i.useEffect)(()=>{e7().then(e=>{r(new e4(e,e=>e.methods)),o(new e4(e,e=>e.threads))})},[]),{methods:n,threads:a,enabled:e,setEnabled:t,toggleEnabled:s}}(),[M,A]=(0,i.useState)(),[E,F]=(0,i.useState)(!1),[P,D]=(0,i.useState)(),[V,R]=(0,i.useState)("all"),[B,U]=(0,g.A)("prefShowGraph",!0),[W,G]=(0,i.useState)(!1),[X,q]=(0,g.A)("prefShowSocket",!1),[z,Q]=(0,i.useState)(),[Y,H]=(0,i.useState)();(0,i.useEffect)(()=>{(async()=>{let e=await K.create(s);s.sources.hasSources()&&H(await e.generateSourcesView()),Q(await e.generateFlatView()),e.close()})()},[s]);let J=function(e){var t,s;let{socket:n,fetchUpdatedData:r,metadata:a,setMetadata:o}=e,[l,c]=(0,i.useState)(),[d,u]=(0,i.useState)();return t=n.socket,s=(0,i.useCallback)(e=>{if("serverUpdateStatistics"===e.oneofKind){var t;let{platform:s,system:n}=e.serverUpdateStatistics,r=(0,S._)((0,v._)({},s),{world:null==(t=a.platformStatistics)?void 0:t.world});o((0,S._)((0,v._)({},a),{platformStatistics:r,systemStatistics:n})),c(Date.now())}return"serverUpdateSampler"===e.oneofKind&&(r(e.serverUpdateSampler.payloadId),u(Date.now())),C.KEEP_LISTENING},[a,o,r]),(0,i.useEffect)(()=>{if(t)return t.eventBus.register(s)},[t,s]),{socket:n,lastStatsUpdate:l,lastSamplerUpdate:d}}({socket:function(e,t){let[s,n]=(0,i.useState)(!1),[r,a]=(0,i.useState)(),[o,l]=(0,i.useState)(),[c,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(),[h,p]=(0,i.useState)(),f=(0,i.useCallback)(async e=>{await O.connect(e,{onConnect(e,s,n,r,i){a(e),l(r),d(n),m(s),i&&t(i)},onPing(e){p(e)},onClose(){a(void 0)}})},[t]);return(0,i.useEffect)(()=>{e&&!s&&(n(!0),f(e).catch(e=>{console.log("Error initialising the socket",e)}))},[e,s,f]),{socket:r,clientId:o,trusted:c,settings:u,latency:h}}(s.channelInfo,r),fetchUpdatedData:r,metadata:a,setMetadata:l}),Z=(0,f.A)(),{t:ee}=(0,el.o)(),et=(null==a||null==(t=a.platform)?void 0:t.sparkVersion)&&a.platform.sparkVersion>=2;return(0,n.jsxs)("div",{className:c().sampler,children:[(0,n.jsx)(eu,{data:s,metadata:a,metadataToggle:Z,exportCallback:d,showSettings:W,setShowSettings:G,view:V,setView:R,sourcesViewSupported:s.sources.hasSources(),graphSupported:T.supported,showGraph:B,setShowGraph:U,socket:J,showSocketInfo:X,setShowSocketInfo:q,flameData:M,setFlameData:A,searchQuery:u}),W&&(0,n.jsx)(tf,{mappingsMetadata:_.mappingsMetadata,mappings:_.mappingsType,setMappings:_.requestMappings,infoPoints:I.enabled,toggleInfoPoints:I.toggleEnabled}),X&&J.socket.socket&&(0,n.jsx)(ev,{socket:J}),!et&&(0,n.jsx)(h,{}),(0,n.jsx)(p.A,{metadata:a,metadataToggle:Z}),T.supported&&(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(tw,{show:B,timeSelector:T,windowStatistics:s.timeWindowStatistics})}),!!M&&(0,n.jsx)(ep,{flameData:M,mappings:_.mappingsResolver,metadata:a,timeSelector:T}),(0,n.jsx)("div",{style:{display:M?"none":void 0},children:(0,n.jsxs)(eS,{mappings:_.mappingsResolver,infoPoints:I,highlighted:m,searchQuery:u,labelMode:j,metadata:a,timeSelector:T,children:["all"===V?(0,n.jsx)(eJ,{data:s,setLabelMode:N}):V===ec?(0,n.jsx)(eK,{data:s,viewData:z,setLabelMode:N}):(0,n.jsx)(e1,{data:s,viewData:Y,setLabelMode:N}),I.enabled&&(0,n.jsx)(e8.m_,{id:"infopoint-tooltip",place:"right",className:"infopoint-tooltip",clickable:!0})]})}),0===s.threads.length&&(0,n.jsx)(eg,{isConnectedToSocket:!!J.socket.socket}),(0,n.jsxs)(o.W1,{id:"sampler-cm",theme:"dark",children:[(0,n.jsx)(o.q7,{onClick:function(e){var t;let s=null==(t=e.props)?void 0:t.node;s&&A(s)},children:ee("viewer.contextMenu.viewAsFlame")}),(0,n.jsx)(o.q7,{onClick:function(e){var t;let s=null==(t=e.props)?void 0:t.node;s&&(D(s),F(!0))},children:ee("viewer.contextMenu.showSource")}),(0,n.jsx)(o.q7,{onClick:function(e){var t;let s=null==(t=e.props)?void 0:t.node;if(!s)return;let n=[],r=s;for(;r;){n.push(r);let e=r.getParents();r=e&&e.length>0?e[0]:void 0}let a=n.slice().reverse(),i=a[0],o=i?T.getTime(i):0,l=a.map((e,t)=>{let s=e.getDetails(),n="";"thread"===s.type?n=s.name:(n="".concat(s.className,".").concat(s.methodName),void 0!==s.lineNumber&&null!==s.lineNumber&&(n+=":".concat(s.lineNumber)));let r=T.getTime(e),a="  ".repeat(t);return"".concat(a).concat(n," — ").concat((0,$.fU)(r)," ms (").concat((0,$.XL)(o?r/o:0),")")}).join("\n");if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(l).catch(()=>{let e=document.createElement("textarea");e.value=l,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()});else{let e=document.createElement("textarea");e.value=l,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()}},children:ee("viewer.contextMenu.copyFullChain")}),(0,n.jsx)(o.q7,{onClick:function(e){var t;let s=null==(t=e.props)?void 0:t.node;if(!s)return;let n=s.getDetails(),r="";if("thread"===n.type?r=n.name:(r="".concat(n.className,".").concat(n.methodName),void 0!==n.lineNumber&&null!==n.lineNumber&&(r+=":".concat(n.lineNumber))),navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(r).catch(()=>{let e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()});else{let e=document.createElement("textarea");e.value=r,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()}},children:ee("viewer.contextMenu.copyFunctionName")}),(0,n.jsx)(o.q7,{onClick:function(e){e.props&&m.toggle(e.props.node)},children:ee("viewer.contextMenu.toggleBookmark")}),(0,n.jsx)(o.q7,{onClick:function(){m.clear()},children:ee("viewer.contextMenu.clearBookmarks")})]}),(0,n.jsx)(tj,{isOpen:E,onClose:()=>F(!1),node:P,metadata:a,highlighted:m})]})}},5278:e=>{e.exports={backdrop:"TopFunctionsModal_backdrop__lxXiL",modal:"TopFunctionsModal_modal__QV73V",header:"TopFunctionsModal_header__OapJI",closeButton:"TopFunctionsModal_closeButton__6lRl3",content:"TopFunctionsModal_content__OeBSA",functionList:"TopFunctionsModal_functionList__TtjTy",functionItem:"TopFunctionsModal_functionItem__k8LEg",rank:"TopFunctionsModal_rank__P06VN",functionInfo:"TopFunctionsModal_functionInfo__fIgP2",functionMeta:"TopFunctionsModal_functionMeta__yJa8O",functionName:"TopFunctionsModal_functionName__PN4fs",functionStats:"TopFunctionsModal_functionStats__YTvjj",time:"TopFunctionsModal_time__QPkKP",percentage:"TopFunctionsModal_percentage__duukl",pctLow:"TopFunctionsModal_pctLow__o0_Wl",pctMed:"TopFunctionsModal_pctMed__kMFo0",pctHigh:"TopFunctionsModal_pctHigh__xLmfw",sourceList:"TopFunctionsModal_sourceList__KO8Z_",sourceItem:"TopFunctionsModal_sourceItem__R3PmX",sourceName:"TopFunctionsModal_sourceName__YMWCl",sourceStats:"TopFunctionsModal_sourceStats__xQ23R",expandRow:"TopFunctionsModal_expandRow__fnU6M",expandButton:"TopFunctionsModal_expandButton__3jO_I"}},6167:e=>{e.exports={backdrop:"SourceInfoModal_backdrop__Gf7Qe",modal:"SourceInfoModal_modal__k9WCS",header:"SourceInfoModal_header__htPtS",closeButton:"SourceInfoModal_closeButton__KRWpe",content:"SourceInfoModal_content__BS0zR",field:"SourceInfoModal_field__aIfl1",label:"SourceInfoModal_label__qJiW8",value:"SourceInfoModal_value__bKqdb",empty:"SourceInfoModal_empty__Wz9_T"}},6570:e=>{e.exports={sampler:"sampler_sampler__ukhXD","version-warning":"sampler_version-warning__d4E7m","socket-info":"sampler_socket-info__zWi5e","settings-menu":"sampler_settings-menu__mXCl3","no-data":"sampler_no-data__9SnRa"}},8144:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var n=s(7876),r=s(1041),a=s(2318),i=s(8341);function o(e){let{metadata:t,metadataToggle:s}=e,{t:o}=(0,i.o)();return t.platform?(0,n.jsx)(a.A,{icon:r.iW_,onClick:s.toggleMetadata,title:o("viewer.controls.toggleMetadata"),extraClassName:s.showMetadata?"toggled":void 0}):null}}}]);