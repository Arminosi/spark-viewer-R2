"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[32],{1032:(e,t,a)=>{a.d(t,{K9:()=>o,TP:()=>p,zv:()=>s});var r=a(3576),n=a(2127),i=a(2209),l=a(1106);async function o(e,t,a){let o=n._.NEXT_PUBLIC_SPARK_BYTEBIN_URL,p=null;a&&t&&t.query["x-bytebin-url"]&&(o=t.query["x-bytebin-url"]),a&&t&&t.query["x-bytebin-api-key"]&&(p=t.query["x-bytebin-api-key"]);let s=await fetch("".concat(o,"/").concat(e),{headers:(0,r._)({Accept:"".concat((0,i.vf)().join(","))},p?{"Bytebin-Api-Key":p}:{})});if(!s.ok)throw Error("bytebin request failed");let c=(0,i.xk)(s.headers.get("content-type")),f=await s.arrayBuffer(),u=(0,l.O)(e,f,c);return{type:c,buf:f,exportCallback:u}}async function p(e){var t;if(!e)throw Error("selectedFile is undefined");let a=(0,i.p7)(e.name.split(".").pop());return{type:(0,i.gt)(a),buf:await (t=e,new Promise((e,a)=>{let r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=a,r.readAsArrayBuffer(t)}))}}async function s(e,t){let a,r,o="".concat(n._.NEXT_PUBLIC_SPARK_MONITOR_URL).concat(e),p=await fetch(o);if(!p.ok)throw Error("Failed to fetch remote file: ".concat(p.status));let s=e.split("."),c=s[s.length-1];if("sparkprofile"===c)a="application/x-spark-sampler";else if("sparkheap"===c)a="application/x-spark-heap";else if("sparkhealth"===c)a="application/x-spark-health";else{let e=p.headers.get("content-type");if(e&&"application/octet-stream"!==e)try{a=(0,i.xk)(e)}catch(e){a="application/x-spark-sampler"}else a="application/x-spark-sampler"}let f=p.headers.get("content-length"),u=f?parseInt(f,10):void 0;if(p.body&&"function"==typeof p.body.getReader){let e=p.body.getReader(),a=[],n=0;for(;;){let{done:r,value:i}=await e.read();if(r)break;i&&(a.push(i),n+=i.length,t&&t(n,u))}let i=new Uint8Array(n),l=0;for(let e of a)i.set(e,l),l+=e.length;r=i.buffer}else{let e=await p.arrayBuffer();t&&t(e.byteLength,u),r=e}let y=e.split("/").pop()||"remote-report",h=(0,l.O)(y.replace(/\.[^/.]+$/,""),r,a);return{type:a,buf:r,exportCallback:h}}}}]);