"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{4198:(e,t,r)=>{r.d(t,{Co:()=>s,Cw:()=>o,VV:()=>i,es:()=>n,vL:()=>a});let s="loading-data",a="failed-data",i="loaded-profile-data",n="loaded-heap-data",o="loaded-health-data"},6724:(e,t,r)=>{r.d(t,{q:()=>f});var s=r(5436);class a{constructor(e){let t=s.Hg.fromBinary(new Uint8Array(e));this.metadata=t.metadata,this.timeWindowStatistics=t.timeWindowStatistics}}class i{constructor(e){let t=s.Xw.fromBinary(new Uint8Array(e));this.metadata=t.metadata,this.entries=t.entries}}class n{getParent(e){return this.view[e]}getParents(e){let t=[],r=e;for(;void 0!==r;){let e=this.getParent(r);if(void 0===e)break;t.push(e),r=e}return t}traverseParents(e){let t=new Set;for(let r of e)for(let e of(t.add(r),this.getParents(r)))t.add(e);return t}constructor(e){this.view=Array(e.allNodes.length);let t=e=>{for(let r of e.children)this.view[r.id]=e.id,t(r)};for(let r of e.threadNodes)t(r)}}class o{getNode(e){return this.allNodes[e]}constructor(e){let t=new c,r=function e(t,r){for(let e of t)e.id=r.add(e);let s=r.prev();for(let s of t)s.children&&e(s.children,r);return s}(e,t),s=t.build();this.allNodes=s,this.threadNodes=s.slice(0,r+1),this.stackTraceNodes=s.slice(r+1,s.length)}}class c{prev(){return this.next()-1}next(){return this.arr.length}add(e){return this.arr.push(e),this.arr.length-1}build(){return this.arr}constructor(){this.arr=[]}}class l{static unflatten(e){let t=(e,r)=>{for(let s of e){let e=[];for(let t of s.childrenRefs)e.push(r[t]);s.children=e,t(s.children,r)}};for(let r of e)r.childrenRefs.length&&t([r],r.children)}static calculateTotalTimes(e){for(let t of e){if(!t.times.length)return;t.time=t.times.reduce((e,t)=>e+t,0)}}}class d{static createFromExisting(e){return new d(e.sources,e.idToSource)}static create(e,t){let{classSources:r,methodSources:s,lineSources:a}=t;if(!(r||s||a))return new d([],new Map);let i=Array.from(new Set([...Object.values(r||{}),...Object.values(s||{}),...Object.values(a||{})])),n=new Map;for(let t of e)if(t.className&&!d.excludes(t)){let e;s&&t.methodName&&t.methodDesc&&(e=s["".concat(t.className,";").concat(t.methodName,";").concat(t.methodDesc)]),!e&&a&&t.lineNumber&&(e=a["".concat(t.className,";").concat(t.lineNumber)]),!e&&r&&(e=r[t.className]),e&&!["minecraft","java"].includes(e)&&n.set(t.id,e)}return new d(i,n)}getSource(e){return this.idToSource.get(e)}getSources(){return this.sources}hasSources(){return this.idToSource.size>0}constructor(e,t){this.sources=e,this.idToSource=t}}d.excludes=e=>e.className.startsWith("com.destroystokyo.paper.event.executor.asm.generated.");class h{constructor(e){let t=s.jk.fromBinary(new Uint8Array(e));l.unflatten(t.threads),this.nodes=new o(t.threads),this.bottomUp=new n(this.nodes),this.sources=d.create(this.nodes.stackTraceNodes,t),l.calculateTotalTimes(this.nodes.allNodes),this.metadata=t.metadata,this.threads=t.threads,this.timeWindows=t.timeWindows,this.timeWindowStatistics=t.timeWindowStatistics,this.channelInfo=t.channelInfo}}var u=r(4198);function f(e,t){if("application/x-spark-sampler"===e)return[new h(t),u.VV];if("application/x-spark-heap"===e)return[new i(t),u.es];if("application/x-spark-health"===e)return[new a(t),u.Cw];throw Error("Unknown content type: "+e)}}}]);